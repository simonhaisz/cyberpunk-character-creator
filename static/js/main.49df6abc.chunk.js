(this["webpackJsonpcyberpunk-character-creator"]=this["webpackJsonpcyberpunk-character-creator"]||[]).push([[0],{107:function(e,a,t){e.exports=t(122)},112:function(e,a,t){},122:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),c=t(13),o=t.n(c),i=(t(112),t(7)),u=t(15);function s(e){return void 0!==e.qualities.find((function(e){return"Adept"===e.name||"Magician"===e.name}))}!function(e){e.Dwarf="Dwarf",e.Elf="Elf",e.Human="Human",e.Ork="Ork",e.Troll="Troll"}(n||(n={}));var m=-1,d={key:m,name:"",streetName:"",metaType:n.Human,attributes:[{name:"Body",rating:3},{name:"Agility",rating:3},{name:"Reaction",rating:3},{name:"Strength",rating:3},{name:"Charisma",rating:3},{name:"Intuition",rating:3},{name:"Logic",rating:3},{name:"Willpower",rating:3},{name:"Edge",rating:3},{name:"Magic",rating:3}],qualities:[],activeSkills:[],knowledgeSkills:[],languageSkills:[],contacts:[],spells:{combat:[],detection:[],health:[],illusion:[],manipulation:[]},gear:[]};function f(){return Object(i.a)({},d)}var v="character";function h(e){return"".concat(v,":").concat(e)}function p(e){if(-1===e)return f();var a=localStorage.getItem(h(e));return a?JSON.parse(a):void 0}var b="selected-character";var g="custom-item";function y(e,a){return"".concat(g,":").concat(e,".").concat(a,"}")}function E(e){switch(e){case n.Human:return 0;case n.Ork:return 40;case n.Dwarf:return 50;case n.Elf:return 60;case n.Troll:return 80;default:throw new Error("Unknown meta-type '".concat(e,"'"))}}function C(e,a){var t=e.attributes.find((function(e){return e.name===a}));if(!t)throw new Error("Could not find attribute with name '".concat(a,"'"));return t.rating+w(e.metaType,t)}function w(e,a){switch(e){case n.Dwarf:switch(a.name){case"Body":return 1;case"Reaction":return-1;case"Strength":return 2;case"Willpower":return 1}break;case n.Elf:switch(a.name){case"Agility":return 1;case"Charisma":return 2}break;case n.Human:switch(a.name){case"Edge":return 1}break;case n.Ork:switch(a.name){case"Body":return 3;case"Strength":return 2;case"Charisma":case"Logic":return-1}break;case n.Troll:switch(a.name){case"Body":return 4;case"Agility":return-1;case"Strength":return 4;case"Charisma":return-2;case"Intuition":case"Logic":return-1}}return 0}function k(e){switch(e){case 1:return-25;case 2:return-15;case 3:return 0;case 4:return 20;case 5:return 45;case 6:return 75;case 7:return 110;default:throw new Error("Unsupported attribute rating ".concat(e))}}function O(e){var a=s(e),t=0,n=!0,r=!1,l=void 0;try{for(var c,o=e.attributes[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;("Magic"!==i.name||a)&&(t+=k(i.rating))}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}function j(e){switch(e){case-1:return 0;case 1:return 5;case 3:return 15;case 5:return 30;default:throw new Error("Unsupported skill rating ".concat(e))}}function S(e){return e.map((function(e){return j(e.rating)})).reduce((function(e,a){return e+a}),0)}function N(e){switch(e){case 1:return 2;case 3:return 7;case 5:return 15;default:throw new Error("Unsupported skill rating ".concat(e))}}function x(e){return e.map((function(e){return N(e.rating)})).reduce((function(e,a){return e+a}),0)}function I(e){var a=e.attributes.find((function(e){return"Intuition"===e.name}));if(void 0===a)throw new Error("Character '".concat(e.streetName,"' has no attribute 'Intuition'"));var t=e.attributes.find((function(e){return"Logic"===e.name}));if(void 0===t)throw new Error("Character '".concat(e.streetName,"' has no attribute 'Logic'"));return 10*(a.rating+t.rating)}function L(e){var a=S(e.activeSkills),t=x(e.knowledgeSkills),n=x(e.languageSkills),r=I(e);return a+Math.max(t+n-r,0)}var U=t(8),A=t(185),V=t(51);function D(e,a,t,n){for(var r=0,l=Object.keys(a);r<l.length;r++){var c=l[r],o="".concat(e,".").concat(c),i=a[c];Object(V.isArray)(i)?t[o]=n(o,i):D(o,i,t,n)}}var W=new Map;function T(e,a){var t="".concat(e.path,".").concat(e.name);if(W.has(t))return W.get(t);var n=a[e.path],r=n.find((function(a){return a.name===e.name}));if(!r)throw new Error("Could not find item with name '".concat(e.name,"' in list '").concat(JSON.stringify(n),"' under path '").concat(e.path,"'"));var l=parseInt(r.cost);return W.set(t,l),l}function B(e,a){var t={},n=!0,r=!1,l=void 0;try{for(var c,o=F(e,a)[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;t[i]=e[i]}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}function F(e,a){for(var t=[],n=a.split("."),r=0,l=Object.keys(e);r<l.length;r++){var c=l[r],o=c.split(".");if(o.length<n.length)throw new Error("Child paths '".concat(c,"' must be longer than parent paths '").concat(a,"'"));for(var i=!0,u=0;u<n.length;u++)if(n[u]!==o[u]){i=!1;break}i&&t.push(c)}return t}var M="qualities";function G(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,o=a[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value,u=i.Name,s=i.Cost;t.push({path:e,name:u,cost:s})}}catch(m){r=!0,l=m}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}function J(e,a){var t=0,n=!0,r=!1,l=void 0;try{for(var c,o=e.qualities[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){t+=T(c.value,a)}}catch(i){r=!0,l=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}var H,P="gear";function R(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,o=a.map((function(a){return function(e,a){for(var t={path:e,name:"[NAME]",availability:"[AVAILABILITY]",cost:"[COST]",costLabel:"[COST]"},n=0,r=Object.keys(a);n<r.length;n++){var l=r[n],c=a[l];"Name"===l?t.name=c:"Availability"===l?t.availability=c:"Cost"===l?t.costLabel=c:t[l]=c}return t}(e,a)}))[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;/^([\w-\s]+)\s+\(([\w-\s]+(,\s*)?)+\)$/i.test(i.name)?t.push.apply(t,Object(U.a)(Q(e,i))):t.push(i)}}catch(m){r=!0,l=m}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}for(var u=0,s=t;u<s.length;u++){Z(s[u])}return t}function Q(e,a){var t=[],n=/^([\w-\s]+)\s+\(((?:(?:[\w-\s]+)(?:,\s*)?)+)\)$/i.exec(a.name);if(null===n)throw new Error("Gear item's name '".concat(a.name,"' does not contain multiple ratings"));for(var r=n[1],l=n[2].split(",").map((function(e){return e.trim()})),c=l.length,o=0;o<c;o++){for(var i={path:e,name:"".concat(r," - ").concat(l[o]),availability:"[AVAILABILITY]",cost:"[COST]",costLabel:"[COST]"},u=0,s=Object.keys(a);u<s.length;u++){var m=s[u];if("name"!==m&&"cost"!==m){var d=a[m],f=d.split(",").map((function(e){return e.trim()}));if(1===f.length)i[m]=d;else{if(f.length!==c)throw new Error("Properties should have a single value or the same amount as there are version names ".concat(c," - found ").concat(f.length));i[m]=f[o]}}}t.push(i)}return t}function Z(e){var a=/^(?:x|\+)?(\d+)\s*(?:\(([\w\s]+)\))?$/i.exec(e.costLabel);if(a){if(e.cost=a[1],isNaN(parseInt(e.cost)))throw new Error("Gear item '".concat(e.name,"' has unsupported cost label '").concat(e.costLabel,"'"))}else e.cost="0"}function q(e,a){return T(e,a)*function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.Alpha;switch(e){case H.Used:return.5;case H.Alpha:return 1;case H.Beta:return 5;case H.Delta:return 15;default:throw new Error("Unknown augmentation grade '".concat(e,"'"))}}(e.grade)}function z(e,a){var t=a.name,n=a.count,r=a.grade,l={path:e,name:t,count:n,grade:r};return void 0===r&&delete l.grade,l}function $(e,a){var t=0,n=!0,r=!1,l=void 0;try{for(var c,o=e.gear[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;t+=q(i,a)*parseInt(i.count)}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}function K(e){return 5*Math.ceil(e/1e4)}!function(e){e.Used="Used",e.Alpha="Alpha",e.Beta="Beta",e.Delta="Delta"}(H||(H={}));var Y,X=500;function _(){return{total:X,spent:0,available:X}}function ee(e,a,t){var n=e.total,r=0;return r+=E(a.metaType),r+=J(a,t.allQualities),r+=O(a),r+=L(a),{total:n,spent:r+=K($(a,t.allGear)),available:n-r}}!function(e){e.UpdateCharacter="updateCharacter",e.SaveCharacter="saveCharacter",e.ClearCharacter="clearCharacter",e.SelectCharacter="selectCharacter",e.LoadQualities="loadQualities",e.LoadSkills="loadSkills",e.LoadContacts="loadContacts",e.LoadSpells="loadSpells",e.LoadGear="loadGear",e.LoadCustomItems="loadCustomItems",e.AddCustomItem="addCustomItem"}(Y||(Y={}));var ae=function(e,a){switch(a.type){case Y.UpdateCharacter:var t=a.data,n=ee(e.karma,t,e);return Object(i.a)({},e,{selectedCharacter:t,karma:n});case Y.SaveCharacter:if(e.selectedCharacter.key===m){if(function(e){return JSON.stringify(d)===JSON.stringify(e)}(e.selectedCharacter))break;e.selectedCharacter.key=Date.now();var r=e.selectedCharacter,l=r.key,c=r.name,o=r.streetName;e.characters.push({key:l,name:c,streetName:o})}return function(e){localStorage.setItem(h(e.key),JSON.stringify(e))}(e.selectedCharacter),Object(i.a)({},e);case Y.ClearCharacter:!function(e){localStorage.removeItem(h(e.key))}(e.selectedCharacter);var u=e.characters.filter((function(a){return a.key!==e.selectedCharacter.key})).map((function(e){return{key:e.key,name:e.name,streetName:e.streetName}}));return Object(i.a)({},e,{characters:u,selectedCharacter:f(),karma:_()});case Y.SelectCharacter:var s=a.data,v=p(s.key);if(!v)throw new Error("Could not find saved character ".concat(JSON.stringify(s)));var b=ee(e.karma,v,e);return Object(i.a)({},e,{selectedCharacter:v,karma:b});case Y.LoadQualities:var g=a.data;return Object(i.a)({},e,{allQualities:g});case Y.LoadSkills:var E=a.data;return Object(i.a)({},e,{allSkills:E});case Y.LoadContacts:var C=a.data;return Object(i.a)({},e,{allContacts:C});case Y.LoadGear:var w=a.data;return Object(i.a)({},e,{allGear:w});case Y.LoadSpells:var k=a.data;return Object(i.a)({},e,{allSpells:k});case Y.LoadCustomItems:var O=a.data;return Object(i.a)({},e,{customItems:O});case Y.AddCustomItem:var j=a.data;!function(e,a){var t=y(e,a.Name);localStorage.setItem(t,JSON.stringify(a))}(j.path,j.item);var S=Object(i.a)({},e.customItems);return S[j.path]=j.item,Object(i.a)({},e,{customItems:S})}return Object(i.a)({},e)},te={characters:[],selectedCharacter:f(),karma:_(),allQualities:{positive:[],negative:[]},allSkills:{active:[],knowledge:[],language:[]},allContacts:[],allSpells:{combat:[],detection:[],health:[],illusion:[],manipulation:[]},allGear:{},customItems:{}},ne=Object(r.createContext)((function(){})),re=function(){return Object(r.useContext)(ne)},le=Object(r.createContext)(te),ce=function(e){return Object(r.useContext)(le)[e]},oe=t(179),ie=t(180),ue=t(126),se=t(166),me=t(189),de=t(84),fe=t.n(de),ve=t(85),he=t.n(ve),pe=t(86),be=t.n(pe),ge=t(184),ye=t(181),Ee=t(165),Ce=t(163),we=t(123),ke=t(164),Oe=t(47),je=function(e){var a=e.character,t=a.name,n=a.streetName;return t||n?n?t?l.a.createElement(Oe.a,null,t," aka ",n):l.a.createElement(Oe.a,null,n):l.a.createElement(Oe.a,null,t):l.a.createElement(Oe.a,null,"= New Character =")},Se=function(){var e=re(),a=ce("characters");return l.a.createElement(Ce.a,{subheader:l.a.createElement(ke.a,null,"Characters")},a.map((function(a){return l.a.createElement(we.a,{key:a.key,onClick:function(){return function(a){var t=a;e({type:Y.SelectCharacter,data:t})}(a)}},l.a.createElement(je,{character:a}))})))},Ne=t(186),xe=t(187),Ie=t(174),Le=[n.Human,n.Ork,n.Dwarf,n.Elf,n.Troll],Ue=t(188),Ae=t(175),Ve=t(177),De=t(176),We=t(29),Te=t.n(We),Be=t(190),Fe=Object(Ee.a)({root:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"},chip:{marginRight:10,marginBottom:10}}),Me=function(e){var a=e.values,t=e.createChipLabel,n=e.onDeleteValue,r=Fe();return l.a.createElement("div",{className:r.root},a.map((function(e){return l.a.createElement(Be.a,{className:r.chip,color:"primary",label:t(e),onDelete:function(){return n(e)}})})))};function Ge(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;(i.path===a||i.path.startsWith("".concat(a,".")))&&t.push(i)}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}var Je=t(68),He=t.n(Je),Pe=t(169),Re=t(171),Qe=t(170),Ze=t(168),qe=t(167),ze=t(124),$e=t(90),Ke=t(46),Ye=t.n(Ke),Xe=t(52),_e=t.n(Xe),ea=Object(Ee.a)({root:{minWidth:78,maxWidth:78,width:78}}),aa=function(e){var a=e.disabled,t=e.grade,n=e.onUpdateGrade,r=ea();return l.a.createElement(ze.a,{className:r.root,disabled:a,variant:"outlined",onClick:function(){return n(function(e){switch(e){case H.Used:return H.Alpha;case H.Alpha:return H.Beta;case H.Beta:return H.Delta;case H.Delta:return H.Used;default:throw new Error("Unknown augmentation grade '".concat(e,"'"))}}(t))}},t)};var ta=Object(Ee.a)({root:{display:"flex",flexDirection:"row",padding:10,margin:10},name:{width:400,textAlign:"left"},cost:{width:150}}),na=function(e){var a=e.item,t=e.createCostLabel,n=e.onUpdateItem,r=ta(),c=parseInt(a.count),o=t(a),u=a.path.startsWith("".concat(P,".augmentations")),s=a.grade||H.Alpha;return l.a.createElement($e.a,{className:r.root,elevation:3},l.a.createElement(Oe.a,{className:r.name,style:{lineHeight:"36px"}},a.name),l.a.createElement("span",{className:r.cost},l.a.createElement(se.a,{badgeContent:c,color:"secondary"},l.a.createElement(Oe.a,{style:{lineHeight:"36px"}},"(",o,")"))),l.a.createElement(qe.a,null,l.a.createElement(ze.a,{onClick:function(){n(Object(i.a)({},a,{count:(c+1).toString()}))}},l.a.createElement(Ye.a,null)),l.a.createElement(ze.a,{onClick:function(){n(Object(i.a)({},a,{count:Math.max(c-1,0).toString()}))}},l.a.createElement(_e.a,null)),u?l.a.createElement(aa,{disabled:0===c,grade:s,onUpdateGrade:function(e){var t=Object(i.a)({},a,{grade:e});e===H.Alpha&&delete t.grade,n(t)}}):null))},ra=Object(Ee.a)({items:{display:"flex",flexDirection:"column"}}),la=function(e){var a=e.items,t=e.createCostLabel,n=e.onUpdateItems,c=ra(),o=function(e){var t=Object(U.a)(a);t[a.findIndex((function(a){return a.name===e.name}))]=e,n(t)};return l.a.createElement(r.Fragment,null,l.a.createElement(Ze.a,null),l.a.createElement("div",{className:c.items},a?a.map((function(e){return l.a.createElement(na,{item:e,createCostLabel:t,onUpdateItem:o})})):l.a.createElement("div",null,"No items")))},ca=function(e){var a=e.open,t=e.onClose,n=e.title,c=e.allItems,o=e.createCostLabel,s=e.onUpdateAllItems,m=Object.keys(c),d=Object(U.a)(m),f=new Map,v=!0,h=!1,p=void 0;try{for(var b,g=d[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var y=b.value,E=y.split("."),C=E[E.length-1],w=Object(A.a)(C);f.set(y,w)}}catch(N){h=!0,p=N}finally{try{v||null==g.return||g.return()}finally{if(h)throw p}}var k=Object(r.useState)(d[0]),O=Object(u.a)(k,2),j=O[0],S=O[1];void 0===d.find((function(e){return e===j}))&&S(d[0]);return l.a.createElement(Pe.a,{open:a,onClose:t},l.a.createElement(Qe.a,null,n),l.a.createElement(Re.a,null,d.length>1?l.a.createElement(Ne.a,{id:"group",value:j,displayEmpty:!0,onChange:function(e){S(e.target.value)},variant:"outlined"},d.map((function(e){return l.a.createElement(Ie.a,{key:e,value:e},f.get(e))}))):null,l.a.createElement(la,{label:f.get(j),items:c[j],createCostLabel:o,onUpdateItems:function(e){var a=Object(i.a)({},c);a[j]=e,s(a)}})))},oa=t(88),ia=function(e){var a=e.title,t=e.items,n=e.allItems,c=e.createCostLabel,o=e.onUpdateItems,i=Object(r.useState)(!1),s=Object(u.a)(i,2),m=s[0],d=s[1],f=function(e){for(var a=new Map,t=Object.keys(e).map((function(e){return e.split(".")})),n=!1,r=0;!n;){if(r>=t[0].length)throw new Error("Searched through all path components and found no differences");for(var l=1;l<t.length;l++)if(t[0][r]!==t[l][r]){n=!0;break}r++}var c=!0,o=!1,i=void 0;try{for(var u,s=t[Symbol.iterator]();!(c=(u=s.next()).done);c=!0){var m=u.value,d=m.slice(0,r).join("."),f=m[r-1];a.set(d,Object(A.a)(f))}}catch(v){o=!0,i=v}finally{try{c||null==s.return||s.return()}finally{if(o)throw i}}return a}(n),v=[],h=!0,p=!1,b=void 0;try{for(var g,y=f.keys()[Symbol.iterator]();!(h=(g=y.next()).done);h=!0){var E=g.value;v.push(E)}}catch(Z){p=!0,b=Z}finally{try{h||null==y.return||y.return()}finally{if(p)throw b}}for(var C=Object(r.useState)(v[0]),w=Object(u.a)(C,2),k=w[0],O=w[1],j=Object(r.useState)(null),S=Object(u.a)(j,2),N=S[0],x=S[1],I=B(n,k),L={},V=!1,D=0,W=Object.keys(I);D<W.length;D++){var T=W[D];V=!0;var F=Object(U.a)(I[T]),M=Ge(t,k),G=!0,J=!1,H=void 0;try{for(var P,R=function(){var e=P.value,a=M.find((function(a){return a.name===e.name}));a?(e.count=a.count,e.grade=a.grade):e.count="0"},Q=F[Symbol.iterator]();!(G=(P=Q.next()).done);G=!0)R()}catch(Z){J=!0,H=Z}finally{try{G||null==Q.return||Q.return()}finally{if(J)throw H}}L[T]=F}return l.a.createElement(r.Fragment,null,l.a.createElement(ue.a,{onClick:function(e){return x(e.currentTarget)},color:"secondary",size:"medium",disableRipple:!0},l.a.createElement(He.a,null)),l.a.createElement(oa.a,{anchorEl:N,open:Boolean(N),onClose:function(){return x(null)}},v.map((function(e){return l.a.createElement(Ie.a,{key:e,onClick:function(){!function(e){O(e),x(null),d(!0)}(e)}},Object(A.a)(f.get(e)))}))),V?l.a.createElement(ca,{open:m,onClose:function(){return d(!1)},title:"".concat(a," - ").concat(f.get(k)),allItems:L,createCostLabel:c,onUpdateAllItems:function(e){for(var a=Object(U.a)(t),n=function(){var t=l[r],n=!0,c=!1,o=void 0;try{for(var i,u=function(){var e=i.value,n=parseInt(e.count)>0,r=a.findIndex((function(a){return a.path===t&&a.name===e.name}));r>-1?n?a[r]=z(t,e):a.splice(r,1):n&&a.push(z(t,e))},s=e[t][Symbol.iterator]();!(n=(i=s.next()).done);n=!0)u()}catch(Z){c=!0,o=Z}finally{try{n||null==s.return||s.return()}finally{if(c)throw o}}},r=0,l=Object.keys(e);r<l.length;r++)n();o(a)}}):null)},ua=Object(Ee.a)({headerLabel:{lineHeight:3,fontWeight:700}}),sa=function(e){var a=e.label,t=e.items,n=e.allItems,r=e.createItemLabel,c=e.createItemCostLabel,o=e.onUpdateItems,i=ua(),u=0,s=!0,m=!1,d=void 0;try{for(var f,v=t[Symbol.iterator]();!(s=(f=v.next()).done);s=!0){var h=f.value;u+=q(h,n)*parseInt(h.count)}}catch(E){m=!0,d=E}finally{try{s||null==v.return||v.return()}finally{if(m)throw d}}for(var p=[],b=0,g=Object.keys(n);b<g.length;b++){var y=g[b];p.push.apply(p,Object(U.a)(n[y]))}return l.a.createElement(Ue.a,{defaultExpanded:!1},l.a.createElement(Ae.a,{expandIcon:l.a.createElement(Te.a,null)},l.a.createElement(De.a,{onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:l.a.createElement(ia,{title:a,items:t,allItems:n,createCostLabel:c,onUpdateItems:function(e){o(e)}}),label:""}),l.a.createElement(Oe.a,{className:i.headerLabel},a," (",u,")")),l.a.createElement(Ve.a,null,l.a.createElement(Me,{values:t,createChipLabel:r,onDeleteValue:function(e){var a=Object(U.a)(t),n=a.findIndex((function(a){return a.name===e.name}));if(n<0)throw new Error("Could not find item '".concat(e.name,"' to delete in list '").concat(JSON.stringify(a),"'"));a.splice(n,1),o(a)}})))},ma=function(){var e=re(),a=ce("selectedCharacter"),t=a.qualities,n=ce("allQualities"),r=function(e){var a=T(e,n);return a>0?"+".concat(a):"".concat(a)};return l.a.createElement(sa,{label:"Qualities",items:t,allItems:n,createItemLabel:function(e){var a=e.name,t=r(e);return"".concat(a," (").concat(t,")")},createItemCostLabel:r,onUpdateItems:function(t){var n=Object(i.a)({},a,{qualities:t});e({type:Y.UpdateCharacter,data:n})}})},da=Object(Ee.a)({header:{display:"flex",flexDirection:"row",marginLeft:5,marginRight:5,marginBottom:10},field:{marginRight:10,marginTop:20},divider:{margin:5}}),fa=function(){var e=da(),a=re(),t=ce("selectedCharacter"),n=t.name,c=t.streetName,o=t.metaType,u=function(e){var t=e;a({type:Y.UpdateCharacter,data:t})};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:e.header},l.a.createElement(xe.a,{"id-":"name",label:"Name",value:n,onChange:function(e){return u(Object(i.a)({},t,{name:e.target.value}))},className:e.field,variant:"outlined"}),l.a.createElement(xe.a,{"id-":"street-name",label:"Street Name",value:c,onChange:function(e){return u(Object(i.a)({},t,{streetName:e.target.value}))},className:e.field,variant:"outlined"}),l.a.createElement(Ne.a,{id:"meta-type",value:o,displayEmpty:!0,onChange:function(e){return u(Object(i.a)({},t,{metaType:e.target.value}))},className:e.field,variant:"outlined"},Le.map((function(e){return l.a.createElement(Ie.a,{key:e,value:e},e," (",E(e),")")})))),l.a.createElement(ma,null))};function va(e,a){var t=[];for(var n in e)n.startsWith(a)&&t.push(e[n]);return t}var ha=t(178),pa=Object(Ee.a)({content:{width:"100%"},header:{display:"flex"},name:{minWidth:300,maxWidth:300,textAlign:"left"},availability:{minWidth:100,maxWidth:100,textAlign:"center"},cost:{minWidth:100,maxWidth:100,textAlign:"right"},ul:{padding:0}}),ba=function(e){var a=e.open,t=e.onClose,n=e.title,c=e.items,o=e.onItemSelectionChange,s=e.includeAvailability,m=e.includeCost,d=e.allowNewItems,f=e.allowMultiSelection,v=pa(),h=Object(r.useState)(""),p=Object(u.a)(h,2),b=p[0],g=p[1],y=Object(r.useState)(""),E=Object(u.a)(y,2),C=E[0],w=E[1],k=Object(r.useState)(""),O=Object(u.a)(k,2),j=O[0],S=O[1],N=function(e){var a=e.target.value;switch(e.target.id){case"new-item-name":g(a);break;case"new-item-availability":w(a);break;case"new-item-cost":S(a)}};return l.a.createElement(Pe.a,{open:a,onClose:t},l.a.createElement(Qe.a,null,n),l.a.createElement(Re.a,{className:v.content},l.a.createElement(Ce.a,null,l.a.createElement(we.a,{key:"header",className:v.header},l.a.createElement(Oe.a,{className:v.name},"Name"),s?l.a.createElement(Oe.a,{className:v.availability},"i.availability"):null,m?l.a.createElement(Oe.a,{className:v.cost},"Cost"):null),d?l.a.createElement(we.a,{key:"new-item"},l.a.createElement(xe.a,{id:"new-item-name",label:"Custom",value:b,onChange:N,className:v.name,variant:"outlined"}),s?l.a.createElement(xe.a,{id:"new-item-availability",label:"Availability",value:C,onChange:N,className:v.availability,variant:"outlined"}):null,m?l.a.createElement(xe.a,{id:"new-item-cost",label:"Cost",value:j,onChange:N,className:v.cost,variant:"outlined"}):null,l.a.createElement(ue.a,{"aria-label":"create",onClick:function(){var e={Name:b,selected:!0};s&&(e.Availability=C),m&&(e.Cost=j),o(e),g(""),w(""),S("")},color:"secondary",size:"small"},l.a.createElement(Ye.a,null))):null,c.map((function(e){return l.a.createElement(we.a,{key:e.Name},l.a.createElement(ha.a,{className:v.name},e.Name),s?l.a.createElement(ha.a,{className:v.availability},e.Availability):null,m?l.a.createElement(ha.a,{className:v.cost},e.Cost):null,f?l.a.createElement(r.Fragment,null,l.a.createElement(ue.a,{"aria-label":"add",onClick:function(){return o(Object(i.a)({},e,{selected:!0}))},color:"secondary",size:"small"},l.a.createElement(Ye.a,null)),l.a.createElement(ue.a,{"aria-label":"remove",onClick:function(){return o(Object(i.a)({},e,{selected:!1}))},disabled:!e.selected,color:"secondary",size:"small"},l.a.createElement(_e.a,null))):l.a.createElement(ue.a,{"aria-label":e.selected?"remove":"add",onClick:function(){return o(Object(i.a)({},e,{selected:!e.selected}))},color:"secondary",size:"small"},e.selected?l.a.createElement(_e.a,null):l.a.createElement(Ye.a,null)))})))))},ga=function(e){var a=e[Object.keys(e)[0]];if(void 0===a)throw new Error("Could not find a name for value '".concat(JSON.stringify(e),"'"));return a},ya=Object(Ee.a)({editButton:{paddingLeft:10}}),Ea=function(e){var a=e.breadcrums,t=e.values,n=e.selectedValueNames,c=e.addValue,o=e.removeValue,i=e.includeAvailability,s=void 0!==i&&i,m=e.includeCost,d=void 0!==m&&m,f=e.allowNewValues,v=void 0!==f&&f,h=e.createValue,p=e.allowMultiSelection,b=void 0!==p&&p,g=ya(),y=Object(r.useState)(!1),E=Object(u.a)(y,2),C=E[0],w=E[1],k=a.join(" - "),O=t.map((function(e){return function(e,a,t,n){var r=ga(e),l=t?function(e){var a=e.Availability;return void 0===a?"-":a}(e):void 0,c=n?function(e){var a=e.Cost;return void 0===a?"0":a}(e):void 0,o=void 0!==a.find((function(e){return e===r}));return{Name:r,Cost:c,Availability:l,selected:o}}(e,n,s,d)}));return l.a.createElement(r.Fragment,null,l.a.createElement(ue.a,{"aria-label":"add",onClick:function(){return w(!0)},color:"secondary",size:"medium",className:g.editButton,disableRipple:!0},l.a.createElement(He.a,null)),l.a.createElement(ba,{open:C,onClose:function(){return w(!1)},title:k,items:O,onItemSelectionChange:function(e){var a=e.Name,n=e.Availability,r=e.Cost;if(e.selected){if(c(a),void 0===t.find((function(e){return ga(e)===a}))){var l={Name:a,Availability:n,Cost:r};if(!h)throw new Error("Attempting to create new item '".concat(JSON.stringify(l),"' with no createValue prop"));h(l)}}else o(a)},includeAvailability:s,includeCost:d,allowNewItems:v,allowMultiSelection:b}))},Ca=t(192),wa=Object(Ee.a)({root:{display:"flex",height:50},name:{width:200},slider:{width:300,marginRight:10}}),ka=function(e){var a=e.property,t=e.onUpdate,n=e.min,r=e.max,c=e.step,o=e.formatDisplayValue,i=e.computeCost,u=a.name,s=a.rating,m=wa();return l.a.createElement("div",{className:m.root},l.a.createElement(Oe.a,{gutterBottom:!0,className:m.name},u),l.a.createElement("div",{className:m.slider},l.a.createElement(Ca.a,{step:c,min:n,max:r,value:s,marks:!0,valueLabelDisplay:"on",onChange:function(e,a){if(Array.isArray(a))throw new Error("Property element '".concat(e.target.id,"' has an array of values instead of a single value: [").concat(a.join(", "),"]"));t({name:u,rating:a})},valueLabelFormat:function(e,a){return o(e)}})),l.a.createElement(Oe.a,{gutterBottom:!0},"(",i(s),")"))},Oa=function(e){var a=e.skill,t=e.onUpdate,n=e.computeCost;return l.a.createElement(ka,{property:a,onUpdate:t,min:1,max:5,step:2,formatDisplayValue:function(e){return e.toString()},computeCost:n})},ja=Object(Ee.a)({header:{display:"flex",flexDirection:"row",marginBottom:20,paddingLeft:16,paddingTop:12},headerLabel:{lineHeight:3,fontWeight:700}}),Sa=function(e){var a=e.breadcrums,t=e.skills,n=e.allSkills,c=e.headerLabel,o=e.computeSkillCost,i=e.onSkillsUpdated,u=ja(),s=re(),m=ce("customItems");t.sort((function(e,a){return e.name.localeCompare(a.name)}));var d=a.join(".");n.push.apply(n,Object(U.a)(va(m,d))),n.sort((function(e,a){return e.Name.localeCompare(a.Name)}));var f=function(e){var a=Object(U.a)(t),n=t.findIndex((function(a){return a.name===e.name}));n>-1?e.rating>0?a[n]=e:a.splice(n,1):e.rating>0&&a.push(e),i(a)};return l.a.createElement(r.Fragment,null,l.a.createElement(Ue.a,{defaultExpanded:!1},l.a.createElement(Ae.a,{expandIcon:l.a.createElement(Te.a,null)},l.a.createElement(De.a,{onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:l.a.createElement(Ea,{breadcrums:a,values:n,selectedValueNames:t.map((function(e){return e.name})),addValue:function(e){f({name:e,rating:1})},removeValue:function(e){f({name:e,rating:-1})},allowNewValues:!0,createValue:function(e){var a={path:"".concat(d,".").concat(e.Name),item:e};s({type:Y.AddCustomItem,data:a})}}),label:""}),l.a.createElement(Oe.a,{className:u.headerLabel},c)),l.a.createElement(Ve.a,null,l.a.createElement(Ce.a,null,t.map((function(e){return l.a.createElement(we.a,{key:e.name},l.a.createElement(Oa,{skill:e,onUpdate:f,computeCost:o}))}))))))},Na=["Skills","Active"],xa=function(){var e=re(),a=ce("selectedCharacter"),t=ce("allSkills"),n=a.activeSkills,r=S(n),c="Active Skills (".concat(r,")"),o=Object(U.a)(t.active);return l.a.createElement(Sa,{breadcrums:Na,skills:n,allSkills:o,headerLabel:c,computeSkillCost:j,onSkillsUpdated:function(t){var n=Object(i.a)({},a,{activeSkills:t});e({type:Y.UpdateCharacter,data:n})}})},Ia=["Skills","Knowledge"],La=function(){var e=re(),a=ce("selectedCharacter"),t=ce("allSkills"),n=a.knowledgeSkills,r=x(n),c=I(a),o=r-c,u="Knowledge Skills (".concat(r," - ").concat(c," = ").concat(o,")"),s=Object(U.a)(t.knowledge);return l.a.createElement(Sa,{breadcrums:Ia,skills:n,allSkills:s,headerLabel:u,computeSkillCost:N,onSkillsUpdated:function(t){var n=Object(i.a)({},a,{knowledgeSkills:t});e({type:Y.UpdateCharacter,data:n})}})},Ua=["Skills","Language"],Aa=function(){var e=re(),a=ce("selectedCharacter"),t=ce("allSkills"),n=a.languageSkills,r=x(n),c="Language Skills (".concat(r,") + Native"),o=Object(U.a)(t.language);return l.a.createElement(Sa,{breadcrums:Ua,skills:n,allSkills:o,headerLabel:c,computeSkillCost:N,onSkillsUpdated:function(t){var n=Object(i.a)({},a,{languageSkills:t});e({type:Y.UpdateCharacter,data:n})}})},Va=function(){return l.a.createElement(r.Fragment,null,l.a.createElement(xa,null),l.a.createElement(La,null),l.a.createElement(Aa,null))},Da=t(70),Wa=t.n(Da),Ta=Object(Ee.a)({badge:{marginLeft:50}}),Ba=function(){var e=Ta(),a=ce("karma"),t=a.total,n=a.spent,c=a.available;return l.a.createElement(r.Fragment,null,l.a.createElement(se.a,{className:e.badge,badgeContent:t,color:"primary",max:999,showZero:!0},l.a.createElement(Wa.a,null)),l.a.createElement(se.a,{className:e.badge,badgeContent:n,color:"secondary",max:999,showZero:!0},l.a.createElement(Wa.a,null)),l.a.createElement(se.a,{className:e.badge,badgeContent:c,color:"primary",max:999,showZero:!0},l.a.createElement(Wa.a,null)))},Fa=function(e){var a=e.attribute,t=e.metaType,n=e.onUpdate,r=w(t,a);return l.a.createElement(ka,{property:a,onUpdate:n,min:1,max:7,step:1,formatDisplayValue:function(e){return(e+r).toString()},computeCost:k})},Ma=Object(Ee.a)({header:{marginBottom:20,paddingLeft:16,paddingTop:12,fontWeight:700}}),Ga=function(){var e=re(),a=ce("selectedCharacter"),t=Ma(),n=a.attributes,c=a.metaType,o=n.filter((function(e){return s(a)||"Magic"!==e.name})),u=O(a),m=function(t){var r=Object(U.a)(n),l=r.findIndex((function(e){return e.name===t.name}));r[l]=t,e({type:Y.UpdateCharacter,data:Object(i.a)({},a,{attributes:r})})};return l.a.createElement(r.Fragment,null,l.a.createElement(Oe.a,{className:t.header},"Attributes (",u,")"),l.a.createElement(Ce.a,null,o.map((function(e){return l.a.createElement(we.a,{key:e.name},l.a.createElement(Fa,{attribute:e,metaType:c,onUpdate:m}))}))))},Ja=function(){return l.a.createElement(Ga,null)};function Ha(e){switch(e){case 1:return 2;case 3:return 7;case 5:return 15;default:throw new Error}}function Pa(e){var a=0;return a+=Ha(e.connection),a+=Ha(e.loyalty)}function Ra(e){return e.contacts.map((function(e){return Pa(e)})).reduce((function(e,a){return e+a}),0)}var Qa=Object(Ee.a)({headerLabel:{fontWeight:700},details:{display:"flex",flexDirection:"column"},rating:{marginTop:30}}),Za=function(e){var a=e.contact,t=e.onUpdate,n=Qa(),c=Pa(a),o={name:"Connection",rating:a.connection},u={name:"Loyalty",rating:a.loyalty};return l.a.createElement(r.Fragment,null,l.a.createElement(Ue.a,{defaultExpanded:!1},l.a.createElement(Ae.a,{expandIcon:l.a.createElement(Te.a,null)},l.a.createElement(Oe.a,{className:n.headerLabel},a.name," (",c,")")),l.a.createElement(Ve.a,null,l.a.createElement("div",{className:n.details},l.a.createElement("div",{className:n.rating},l.a.createElement(ka,{property:o,onUpdate:function(e){var n=Object(i.a)({},a,{connection:e.rating});t(n)},min:1,max:3,step:2,formatDisplayValue:function(e){return e.toString()},computeCost:Ha})),l.a.createElement("div",{className:n.rating},l.a.createElement(ka,{property:u,onUpdate:function(e){var n=Object(i.a)({},a,{loyalty:e.rating});t(n)},min:1,max:5,step:2,formatDisplayValue:function(e){return e.toString()},computeCost:Ha}))))))},qa=Object(Ee.a)({header:{display:"flex",flexDirection:"row"},headerLabel:{lineHeight:3,fontWeight:700}}),za=["Contacts"],$a=za.join("."),Ka=function(){var e=qa(),a=re(),t=ce("selectedCharacter"),n=ce("allContacts"),c=ce("customItems"),o=t.contacts;o.sort((function(e,a){return e.name.localeCompare(a.name)}));var u=Ra(t),s=function(e){var a=e.attributes.find((function(e){return"Charisma"===e.name}));if(void 0===a)throw new Error("Character '".concat(e.streetName,"' has no attribute 'Charisma'"));var t=e.attributes.find((function(e){return"Willpower"===e.name}));if(void 0===t)throw new Error("Character '".concat(e.streetName,"' has no attribute 'Willpower'"));return 10*(a.rating+t.rating)}(t),m=u-s,d="Contacts (".concat(u," - ").concat(s," = ").concat(m,")");n.push.apply(n,Object(U.a)(va(c,$a))),n.sort((function(e,a){return e.Name.localeCompare(a.Name)}));var f=function(e){var n=Object(U.a)(o),r=o.findIndex((function(a){return a.name===e.name}));r>-1?e.connection>0&&e.loyalty>0?n[r]=e:n.splice(r,1):e.connection>0&&e.loyalty>0&&n.push(e);var l=Object(i.a)({},t,{contacts:n});a({type:Y.UpdateCharacter,data:l})};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:e.header},l.a.createElement(Ea,{breadcrums:za,values:n,selectedValueNames:o.map((function(e){return e.name})),addValue:function(e){f({name:e,connection:1,loyalty:1})},removeValue:function(e){f({name:e,connection:-1,loyalty:-1})},allowNewValues:!0,createValue:function(e){var t={path:"".concat($a,".").concat(e.Name),item:e};a({type:Y.AddCustomItem,data:t})}}),l.a.createElement(Oe.a,{className:e.headerLabel},d)),l.a.createElement(Ce.a,null,o.map((function(e){return l.a.createElement(Za,{key:e.name,contact:e,onUpdate:f})}))))},Ya=function(){return l.a.createElement(Ka,null)},Xa=Object(Ee.a)({header:{display:"flex",flexDirection:"row"},headerLabel:{lineHeight:3,marginLeft:16}}),_a=function(e){var a=e.fontWeight,t=e.breadcrums,n=e.names,c=e.allValues,o=e.onNamesUpdated,i=Xa(),u=re();n.sort();var s=ce("customItems"),m=t.join(".");c.push.apply(c,Object(U.a)(va(s,m))),c.sort((function(e,a){if(void 0===e.Name||void 0===a.Name)throw new Error("Value missing 'Name' property under '".concat(m,"': ").concat(JSON.stringify(c)));return e.Name.localeCompare(a.Name)}));var d=t[t.length-1];return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:i.header},l.a.createElement(Ea,{breadcrums:t,values:c,selectedValueNames:n,addValue:function(e){var a=[].concat(Object(U.a)(n),[e]);o(a)},removeValue:function(e){var a=Object(U.a)(n),t=a.findIndex((function(a){return a===e}));if(t<0)throw new Error("Could not find value with name '".concat(e,"'"));a.splice(t,1),o(a)},allowNewValues:!0,createValue:function(e){var a={path:"".concat(m,".").concat(e.Name),item:e};u({type:Y.AddCustomItem,data:a})},includeCost:!0}),l.a.createElement(Oe.a,{className:i.headerLabel,style:{fontWeight:a}},d)),l.a.createElement(Ce.a,null,n.map((function(e){return l.a.createElement(we.a,{key:e},l.a.createElement(ha.a,null,e," (",function(e){var a=c.find((function(a){return a.Name===e}));if(!a)throw new Error("Could not find value with name '".concat(e,"'"));return parseInt(a.Cost)}(e),")"))}))))},et=[700,600,500,400,300,200,100],at=function e(a){var t=a.rootCost,n=void 0===t?-1:t,c=a.parentPath,o=a.name,u=a.value,s=a.all,m=a.onValueUpdated,d=Object(A.a)(o),f=et[c.split(".").length-1];if(Object(V.isArray)(u)){var v=function(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,o=e.split(".")[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;t.push(Object(A.a)(i))}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t.push(Object(A.a)(a)),t}(c,o),h=u,p=s;return l.a.createElement(_a,{fontWeight:f-100,breadcrums:v,names:h,allValues:p,onNamesUpdated:function(e){m(e)}})}for(var b=1===c.split(".").length,g=[],y=function(){var a=C[E],t=s[a],n="".concat(c,".").concat(a),r=Object(V.isArray)(t)?[]:{},o=u[a]||r;g.push(l.a.createElement(e,{key:a,parentPath:n,name:a,value:o,all:t,onValueUpdated:function(e){var t=Object(i.a)({},u);t[a]=e,m(t)}}))},E=0,C=Object.keys(s);E<C.length;E++)y();return l.a.createElement(r.Fragment,null,l.a.createElement(Ue.a,{defaultExpanded:!1},l.a.createElement(Ae.a,{expandIcon:l.a.createElement(Te.a,null)},l.a.createElement(Oe.a,{style:{fontWeight:f}},d,b?" (".concat(n,")"):null)),l.a.createElement(Ve.a,null,l.a.createElement("div",null,g))))};var tt=function(e){var a=e.rootCost,t=e.rootName,n=e.rootValue,c=e.rootAll,o=e.onRootUpdated;return l.a.createElement(r.Fragment,null,l.a.createElement(at,{rootCost:a,parentPath:t,name:t,value:n,all:c,onValueUpdated:o}))};function nt(e){return 5*e.length}function rt(e){var a=0;return a+=nt(e.spells.combat),a+=nt(e.spells.detection),a+=nt(e.spells.health),a+=nt(e.spells.illusion),a+=nt(e.spells.manipulation)}var lt=function(){var e=re(),a=ce("selectedCharacter"),t=a.spells,n=ce("allSpells"),r=rt(a);return l.a.createElement(tt,{rootCost:r,rootName:"spells",rootValue:t,rootAll:n,onRootUpdated:function(t){var n=Object(i.a)({},a,{spells:t});e({type:Y.UpdateCharacter,data:n})}})},ct=function(){var e=re(),a=ce("selectedCharacter"),t=a.gear,n=ce("allGear"),c=function(e){var a=e.count,t=q(e,n);return parseInt(a)>1?"\xa5".concat(t," x ").concat(a):"\xa5".concat(t)},o=function(e){var a=e.name,t=c(e),n="".concat(a," (").concat(t,")");return e.path.startsWith("".concat(P,".augmentations"))&&(n+=" [".concat(e.grade||H.Alpha,"]")),n};return l.a.createElement(r.Fragment,null,function(e,a){var t=new Set,n=a.split("."),r=!0,l=!1,c=void 0;try{for(var o,i=F(e,a)[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value.split(".");t.add(u[n.length])}}catch(s){l=!0,c=s}finally{try{r||null==i.return||i.return()}finally{if(l)throw c}}return Array.from(t)}(n,P).map((function(r){return l.a.createElement(sa,{key:r,label:Object(A.a)(r),items:Ge(t,"".concat(P,".").concat(r)),allItems:B(n,"".concat(P,".").concat(r)),createItemLabel:o,createItemCostLabel:c,onUpdateItems:function(n){return function(n,r){var l=t.filter((function(e){return!e.path.startsWith("".concat(P,".").concat(n))}));l.push.apply(l,Object(U.a)(r));var c=Object(i.a)({},a,{gear:l});e({type:Y.UpdateCharacter,data:c})}(r,n)}})})))},ot=t(193),it=Object(Ee.a)((function(e){return{root:{display:"flex",flexDirection:"row",marginLeft:10,marginTop:10},name:{lineHeight:"40px"},value:{marginLeft:5,color:e.palette.getContrastText(e.palette.primary.main),backgroundColor:e.palette.primary.main}}})),ut=function(e){var a=e.name,t=e.value,n=it();return l.a.createElement("div",{className:n.root},l.a.createElement(Oe.a,{className:n.name},a),l.a.createElement(ot.a,{className:n.value},t))},st=Object(Ee.a)({header:{marginTop:10,marginLeft:5},section:{display:"flex",flexDirection:"row",marginBottom:10}}),mt=function(){var e,a=st(),t=ce("selectedCharacter"),c=C(t,"Body"),o=C(t,"Agility"),i=C(t,"Reaction"),u=C(t,"Intuition"),s=C(t,"Willpower"),m=(null===(e=t.activeSkills.find((function(e){return"Athletics"===e.name})))||void 0===e?void 0:e.rating)||0,d=i+u,f=8+Math.ceil(c/2),v=8+Math.ceil(s/2),h=o;t.metaType!==n.Dwarf&&(h+=1);var p=h+m;t.metaType!==n.Dwarf&&(p+=2);var b=2*p;return l.a.createElement(r.Fragment,null,l.a.createElement(Oe.a,{className:a.header},"Initiative"),l.a.createElement(Ze.a,null),l.a.createElement("div",{className:a.section},l.a.createElement(ut,{name:"Initiative",value:d}),l.a.createElement(ut,{name:"Initiative Passes",value:1})),l.a.createElement(Oe.a,{className:a.header},"Condition Monitor"),l.a.createElement(Ze.a,null),l.a.createElement("div",{className:a.section},l.a.createElement(ut,{name:"Physical Boxes",value:f}),l.a.createElement(ut,{name:"Stun Boxes",value:v})),l.a.createElement(Oe.a,{className:a.header},"Movement"),l.a.createElement(Ze.a,null),l.a.createElement("div",{className:a.section},l.a.createElement(ut,{name:"Sneaking",value:h}),l.a.createElement(ut,{name:"Walking",value:p}),l.a.createElement(ut,{name:"Running",value:b})))},dt=Object(Ee.a)({bar:{flexGrow:1,display:"flex"}}),ft=function(){var e=dt(),a=re(),t=ce("selectedCharacter"),n=ce("allQualities"),c=ce("allGear");Object(r.useEffect)((function(){fetch("data/qualities.json").then((function(e){return e.json()})).then((function(e){var t=function(e){var a={};return D(M,e,a,G),a}(e);a({type:Y.LoadQualities,data:t})})).catch((function(e){console.error("Error occured loading qualities: ".concat(e.message,"\n").concat(e.stack))})),fetch("data/skills.json").then((function(e){return e.json()})).then((function(e){var t=e;a({type:Y.LoadSkills,data:t})})),fetch("data/contacts.json").then((function(e){return e.json()})).then((function(e){var t=e.all;a({type:Y.LoadContacts,data:t})})),fetch("data/magic.json").then((function(e){return e.json()})).then((function(e){var t=e.spells;a({type:Y.LoadSpells,data:t})})),fetch("data/gear.json").then((function(e){return e.json()})).then((function(e){var t=function(e){var a={};return D(P,e,a,R),a}(e);a({type:Y.LoadGear,data:t})}))}),[a]);var o,i=E(t.metaType)+J(t,n),m=O(t),d=L(t),f=Ra(t),v=rt(t),h=$(t,c),p=K(h),b=Object(r.useState)(0),g=Object(u.a)(b,2),y=g[0],C=g[1],w=s(t);switch(y){case 0:o=l.a.createElement(fa,null);break;case 1:o=l.a.createElement(Ja,null);break;case 2:o=l.a.createElement(Va,null);break;case 3:o=l.a.createElement(Ya,null);break;case 4:o=l.a.createElement(lt,null);break;case 5:o=l.a.createElement(ct,null);break;case 6:o=l.a.createElement(mt,null);break;default:throw new Error("Unknown tab index ".concat(y))}var k=Object(r.useState)(!1),j=Object(u.a)(k,2),S=j[0],N=j[1];return l.a.createElement("div",null,l.a.createElement(oe.a,{position:"sticky",color:"default"},l.a.createElement(ie.a,null,l.a.createElement(ue.a,{edge:"start",onClick:function(){N(!0)},"aria-label":"menu"},l.a.createElement(fe.a,null)),l.a.createElement("div",{className:e.bar},l.a.createElement(je,{character:t}),l.a.createElement(Ba,null)),l.a.createElement(ue.a,{"aria-label":"save",onClick:function(){a({type:Y.SaveCharacter})},color:"secondary"},l.a.createElement(he.a,null)),l.a.createElement(ue.a,{"aria-label":"clear",onClick:function(){a({type:Y.ClearCharacter})},color:"secondary"},l.a.createElement(be.a,null))),l.a.createElement(ge.a,{value:y,onChange:function(e,a){C(a)},variant:"scrollable"},l.a.createElement(ye.a,{label:l.a.createElement(se.a,{badgeContent:i,color:"default",showZero:!0,max:999},"Character")}),l.a.createElement(ye.a,{label:l.a.createElement(se.a,{badgeContent:m,color:"default",showZero:!0,max:999},"Attributes")}),l.a.createElement(ye.a,{label:l.a.createElement(se.a,{badgeContent:d,color:"default",showZero:!0,max:999},"Skills")}),l.a.createElement(ye.a,{label:l.a.createElement(se.a,{badgeContent:f,color:"default",showZero:!0,max:999},"Contacts")}),l.a.createElement(ye.a,{disabled:!w,label:l.a.createElement(se.a,{badgeContent:v,color:"default",showZero:!0,max:999},"Magic")}),l.a.createElement(ye.a,{label:l.a.createElement(se.a,{badgeContent:"\xa5".concat(h),color:"default",showZero:!0,max:1e6,anchorOrigin:{vertical:"top",horizontal:"left"}},l.a.createElement(se.a,{badgeContent:p,color:"default",showZero:!0,max:999,anchorOrigin:{vertical:"top",horizontal:"right"}},"Gear"))}),l.a.createElement(ye.a,{label:"Combat"}))),o,l.a.createElement(me.a,{open:S,onClose:function(){N(!1)}},l.a.createElement(Se,null)))},vt=t(87),ht=t(182),pt=t(183),bt=Object(vt.a)({palette:{type:"dark"}}),gt=function(){var e=Object(r.useReducer)(ae,te,(function(e){var a=function(){for(var e=[f()],a=0;a<localStorage.length;a++){var t=localStorage.key(a);if(null!==t&&/^character:\d+$/i.test(t)){var n=localStorage.getItem(t);if(n){var r=JSON.parse(n),l=r.key,c=r.name,o=r.streetName;e.push({key:l,name:c,streetName:o})}}}return e.sort((function(e,a){return e.key-a.key})),e}(),t=function(){var e=localStorage.getItem(b);return e?parseInt(e):-1}(),n=e.selectedCharacter;if(t>-1){var r=a.find((function(e){return e.key===t}));if(r){var l=p(r.key);l&&(n=l)}}return Object(i.a)({},e,{characters:a,selectedCharacter:n})})),a=Object(u.a)(e,2),t=a[0],n=a[1];return l.a.createElement(ne.Provider,{value:n},l.a.createElement(le.Provider,{value:t},l.a.createElement(ht.a,{theme:bt},l.a.createElement(pt.a,null),l.a.createElement(ft,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(gt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[107,1,2]]]);
//# sourceMappingURL=main.49df6abc.chunk.js.map