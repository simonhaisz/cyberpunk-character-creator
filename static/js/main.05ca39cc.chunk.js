(this["webpackJsonpcyberpunk-character-creator"]=this["webpackJsonpcyberpunk-character-creator"]||[]).push([[0],{106:function(e,a,t){e.exports=t(121)},111:function(e,a,t){},121:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),c=t(13),o=t.n(c),i=(t(111),t(7)),u=t(15);function s(e){return void 0!==e.qualities.find((function(e){return"Adept"===e.name||"Magician"===e.name}))}!function(e){e.Dwarf="Dwarf",e.Elf="Elf",e.Human="Human",e.Ork="Ork",e.Troll="Troll"}(n||(n={}));var m=-1,d={key:m,name:"",streetName:"",metaType:n.Human,attributes:[{name:"Body",rating:3},{name:"Agility",rating:3},{name:"Reaction",rating:3},{name:"Strength",rating:3},{name:"Charisma",rating:3},{name:"Intuition",rating:3},{name:"Logic",rating:3},{name:"Willpower",rating:3},{name:"Edge",rating:3},{name:"Magic",rating:3}],qualities:[],activeSkills:[],knowledgeSkills:[],languageSkills:[],contacts:[],spells:[],gear:[]};function f(){return Object(i.a)({},d)}var h="character";function v(e){return"".concat(h,":").concat(e)}function p(e){if(-1===e)return f();var a=localStorage.getItem(v(e));return a?JSON.parse(a):void 0}var g="selected-character";var b="custom-item";function y(e,a){return"".concat(b,":").concat(e,".").concat(a,"}")}function E(e){switch(e){case n.Human:return 0;case n.Ork:return 40;case n.Dwarf:return 50;case n.Elf:return 60;case n.Troll:return 80;default:throw new Error("Unknown meta-type '".concat(e,"'"))}}function C(e,a){var t=e.attributes.find((function(e){return e.name===a}));if(!t)throw new Error("Could not find attribute with name '".concat(a,"'"));return t.rating+w(e.metaType,t)}function w(e,a){switch(e){case n.Dwarf:switch(a.name){case"Body":return 1;case"Reaction":return-1;case"Strength":return 2;case"Willpower":return 1}break;case n.Elf:switch(a.name){case"Agility":return 1;case"Charisma":return 2}break;case n.Human:switch(a.name){case"Edge":return 1}break;case n.Ork:switch(a.name){case"Body":return 3;case"Strength":return 2;case"Charisma":case"Logic":return-1}break;case n.Troll:switch(a.name){case"Body":return 4;case"Agility":return-1;case"Strength":return 4;case"Charisma":return-2;case"Intuition":case"Logic":return-1}}return 0}function k(e){switch(e){case 1:return-25;case 2:return-15;case 3:return 0;case 4:return 20;case 5:return 45;case 6:return 75;case 7:return 110;default:throw new Error("Unsupported attribute rating ".concat(e))}}function O(e){var a=s(e),t=0,n=!0,r=!1,l=void 0;try{for(var c,o=e.attributes[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;("Magic"!==i.name||a)&&(t+=k(i.rating))}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}function j(e){switch(e){case-1:return 0;case 1:return 5;case 3:return 15;case 5:return 30;default:throw new Error("Unsupported skill rating ".concat(e))}}function S(e){return e.map((function(e){return j(e.rating)})).reduce((function(e,a){return e+a}),0)}function N(e){switch(e){case 1:return 2;case 3:return 7;case 5:return 15;default:throw new Error("Unsupported skill rating ".concat(e))}}function x(e){return e.map((function(e){return N(e.rating)})).reduce((function(e,a){return e+a}),0)}function I(e){var a=e.attributes.find((function(e){return"Intuition"===e.name}));if(void 0===a)throw new Error("Character '".concat(e.streetName,"' has no attribute 'Intuition'"));var t=e.attributes.find((function(e){return"Logic"===e.name}));if(void 0===t)throw new Error("Character '".concat(e.streetName,"' has no attribute 'Logic'"));return 10*(a.rating+t.rating)}function L(e){var a=S(e.activeSkills),t=x(e.knowledgeSkills),n=x(e.languageSkills),r=I(e);return a+Math.max(t+n-r,0)}var A=t(9),U=t(185),D=t(82);function T(e,a,t,n){for(var r=0,l=Object.keys(a);r<l.length;r++){var c=l[r],o="".concat(e,".").concat(c),i=a[c];Object(D.isArray)(i)?t[o]=n(o,i):T(o,i,t,n)}}var W=new Map;function B(e,a){var t="".concat(e.path,".").concat(e.name);if(W.has(t))return W.get(t);var n=a[e.path],r=n.find((function(a){return a.name===e.name}));if(!r)throw new Error("Could not find item with name '".concat(e.name,"' in list '").concat(JSON.stringify(n),"' under path '").concat(e.path,"'"));var l=parseInt(r.cost);return W.set(t,l),l}var V=new Map;function M(e,a){var t={},n=!0,r=!1,l=void 0;try{for(var c,o=F(e,a)[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;t[i]=e[i]}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}function F(e,a){for(var t=[],n=a.split("."),r=0,l=Object.keys(e);r<l.length;r++){var c=l[r],o=c.split(".");if(o.length<n.length)throw new Error("Child paths '".concat(c,"' must be longer than parent paths '").concat(a,"'"));for(var i=!0,u=0;u<n.length;u++)if(n[u]!==o[u]){i=!1;break}i&&t.push(c)}return t}var G="qualities";function J(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,o=a[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value,u=i.Name,s=i.Cost;t.push({path:e,name:u,cost:s})}}catch(m){r=!0,l=m}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}function R(e,a){var t=0,n=!0,r=!1,l=void 0;try{for(var c,o=e.qualities[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){t+=B(c.value,a)}}catch(i){r=!0,l=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}var H,P="gear";function Q(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,o=a.map((function(a){return function(e,a){for(var t={path:e,name:"[NAME]",availability:"[AVAILABILITY]",cost:"[COST]",costLabel:"[COST]"},n=0,r=Object.keys(a);n<r.length;n++){var l=r[n],c=a[l];"Name"===l?t.name=c:"Availability"===l?t.availability=c:"Cost"===l?t.costLabel=c:t[l]=c}return t}(e,a)}))[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;/^([\w-\s]+)\s+\(([\w-\s]+(,\s*)?)+\)$/i.test(i.name)?t.push.apply(t,Object(A.a)(Z(e,i))):t.push(i)}}catch(m){r=!0,l=m}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}for(var u=0,s=t;u<s.length;u++){z(s[u])}return t}function Z(e,a){var t=[],n=/^([\w-\s]+)\s+\(((?:(?:[\w-\s]+)(?:,\s*)?)+)\)$/i.exec(a.name);if(null===n)throw new Error("Gear item's name '".concat(a.name,"' does not contain multiple ratings"));for(var r=n[1],l=n[2].split(",").map((function(e){return e.trim()})),c=l.length,o=0;o<c;o++){for(var i={path:e,name:"".concat(r," - ").concat(l[o]),availability:"[AVAILABILITY]",cost:"[COST]",costLabel:"[COST]"},u=0,s=Object.keys(a);u<s.length;u++){var m=s[u];if("name"!==m&&"cost"!==m){var d=a[m],f=d.split(",").map((function(e){return e.trim()}));if(1===f.length)i[m]=d;else{if(f.length!==c)throw new Error("Properties should have a single value or the same amount as there are version names ".concat(c," - found ").concat(f.length));i[m]=f[o]}}}t.push(i)}return t}function z(e){var a=/^(?:x|\+)?(\d+)\s*(?:\(([\w\s]+)\))?$/i.exec(e.costLabel);if(a){if(e.cost=a[1],isNaN(parseInt(e.cost)))throw new Error("Gear item '".concat(e.name,"' has unsupported cost label '").concat(e.costLabel,"'"))}else e.cost="0"}function q(e,a){return B(e,a)*function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.Alpha;switch(e){case H.Used:return.5;case H.Alpha:return 1;case H.Beta:return 5;case H.Delta:return 15;default:throw new Error("Unknown augmentation grade '".concat(e,"'"))}}(e.grade)*function(e){var a=K(e),t=a.rating,n=a.legality;return"F"===n?t<=6?1:t<=8?2:t<=10?5:t<=12?10:Number.NaN:"R"===n?t<=12?1:t<=14?2:t<=16?5:t<=18?10:Number.NaN:t<=18?1:t<=20?2:t<=22?5:t<=24?10:Number.NaN}(function(e,a){var t="".concat(e.path,".").concat(e.name);if(V.has(t))return V.get(t);var n=a[e.path],r=n.find((function(a){return a.name===e.name}));if(!r)throw new Error("Could not find item with name '".concat(e.name,"' in list '").concat(JSON.stringify(n),"' under path '").concat(e.path,"'"));var l=r.availability;return V.set(t,l),l}(e,a))}function $(e,a){var t=a.name,n=a.count,r=a.grade,l={path:e,name:t,count:n,grade:r};return void 0===r&&delete l.grade,l}function K(e){if("-"===e)return{rating:1,legality:"L"};var a=/^\+?(\d+)(R|F)?$/i.exec(e);return a?{rating:parseInt(a[1]),legality:a[2]||"L"}:(console.error("Unknown availability format '".concat(e,"' - falling back to standard cost")),{rating:1,legality:"L"})}function Y(e,a){var t=0,n=!0,r=!1,l=void 0;try{for(var c,o=e.gear[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;t+=q(i,a)*parseInt(i.count)}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}function X(e){return 5*Math.ceil(e/1e4)}!function(e){e.Used="Used",e.Alpha="Alpha",e.Beta="Beta",e.Delta="Delta"}(H||(H={}));var _,ee=500;function ae(){return{total:ee,spent:0,available:ee}}function te(e,a,t){var n=e.total,r=0;return r+=E(a.metaType),r+=R(a,t.allQualities),r+=O(a),r+=L(a),{total:n,spent:r+=X(Y(a,t.allGear)),available:n-r}}!function(e){e.UpdateCharacter="updateCharacter",e.SaveCharacter="saveCharacter",e.ClearCharacter="clearCharacter",e.SelectCharacter="selectCharacter",e.LoadQualities="loadQualities",e.LoadSkills="loadSkills",e.LoadContacts="loadContacts",e.LoadSpells="loadSpells",e.LoadGear="loadGear",e.LoadCustomItems="loadCustomItems",e.AddCustomItem="addCustomItem"}(_||(_={}));var ne=function(e,a){switch(a.type){case _.UpdateCharacter:var t=a.data,n=te(e.karma,t,e);return Object(i.a)({},e,{selectedCharacter:t,karma:n});case _.SaveCharacter:if(e.selectedCharacter.key===m){if(function(e){return JSON.stringify(d)===JSON.stringify(e)}(e.selectedCharacter))break;e.selectedCharacter.key=Date.now();var r=e.selectedCharacter,l=r.key,c=r.name,o=r.streetName;e.characters.push({key:l,name:c,streetName:o})}return function(e){localStorage.setItem(v(e.key),JSON.stringify(e))}(e.selectedCharacter),Object(i.a)({},e);case _.ClearCharacter:!function(e){localStorage.removeItem(v(e.key))}(e.selectedCharacter);var u=e.characters.filter((function(a){return a.key!==e.selectedCharacter.key})).map((function(e){return{key:e.key,name:e.name,streetName:e.streetName}}));return Object(i.a)({},e,{characters:u,selectedCharacter:f(),karma:ae()});case _.SelectCharacter:var s=a.data,h=p(s.key);if(!h)throw new Error("Could not find saved character ".concat(JSON.stringify(s)));var g=te(e.karma,h,e);return Object(i.a)({},e,{selectedCharacter:h,karma:g});case _.LoadQualities:var b=a.data;return Object(i.a)({},e,{allQualities:b});case _.LoadSkills:var E=a.data;return Object(i.a)({},e,{allSkills:E});case _.LoadContacts:var C=a.data;return Object(i.a)({},e,{allContacts:C});case _.LoadGear:var w=a.data;return Object(i.a)({},e,{allGear:w});case _.LoadSpells:var k=a.data;return Object(i.a)({},e,{allSpells:k});case _.LoadCustomItems:var O=a.data;return Object(i.a)({},e,{customItems:O});case _.AddCustomItem:var j=a.data;!function(e,a){var t=y(e,a.Name);localStorage.setItem(t,JSON.stringify(a))}(j.path,j.item);var S=Object(i.a)({},e.customItems);return S[j.path]=j.item,Object(i.a)({},e,{customItems:S})}return Object(i.a)({},e)},re={characters:[],selectedCharacter:f(),karma:ae(),allQualities:{positive:[],negative:[]},allSkills:{active:[],knowledge:[],language:[]},allContacts:[],allSpells:{combat:[],detection:[],health:[],illusion:[],manipulation:[]},allGear:{},customItems:{}},le=Object(r.createContext)((function(){})),ce=function(){return Object(r.useContext)(le)},oe=Object(r.createContext)(re),ie=function(e){return Object(r.useContext)(oe)[e]},ue=t(179),se=t(180),me=t(125),de=t(166),fe=t(189),he=t(84),ve=t.n(he),pe=t(85),ge=t.n(pe),be=t(86),ye=t.n(be),Ee=t(184),Ce=t(181),we=t(165),ke=t(163),Oe=t(122),je=t(164),Se=t(46),Ne=function(e){var a=e.character,t=a.name,n=a.streetName;return t||n?n?t?l.a.createElement(Se.a,null,t," aka ",n):l.a.createElement(Se.a,null,n):l.a.createElement(Se.a,null,t):l.a.createElement(Se.a,null,"= New Character =")},xe=function(){var e=ce(),a=ie("characters");return l.a.createElement(ke.a,{subheader:l.a.createElement(je.a,null,"Characters")},a.map((function(a){return l.a.createElement(Oe.a,{key:a.key,onClick:function(){return function(a){var t=a;e({type:_.SelectCharacter,data:t})}(a)}},l.a.createElement(Ne,{character:a}))})))},Ie=t(186),Le=t(187),Ae=t(174),Ue=[n.Human,n.Ork,n.Dwarf,n.Elf,n.Troll],De=t(188),Te=t(175),We=t(177),Be=t(176),Ve=t(41),Me=t.n(Ve),Fe=t(190),Ge=Object(we.a)({root:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"},chip:{marginRight:10,marginBottom:10}}),Je=function(e){var a=e.values,t=e.createChipLabel,n=e.onDeleteValue,r=Ge();return l.a.createElement("div",{className:r.root},a.map((function(e){return l.a.createElement(de.a,{badgeContent:e.count,invisible:"1"===e.count,color:"secondary",max:99,anchorOrigin:{vertical:"top",horizontal:"left"}},l.a.createElement(Fe.a,{className:r.chip,color:"primary",label:t(e),onDelete:function(){return n(e)}}))})))};function Re(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;(i.path===a||i.path.startsWith("".concat(a,".")))&&t.push(i)}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}var He=t(66),Pe=t.n(He),Qe=t(169),Ze=t(171),ze=t(170),qe=t(168),$e=t(167),Ke=t(123),Ye=t(90),Xe=t(45),_e=t.n(Xe),ea=t(50),aa=t.n(ea),ta=Object(we.a)({root:{minWidth:78,maxWidth:78,width:78}}),na=function(e){var a=e.disabled,t=e.grade,n=e.onUpdateGrade,r=ta();return l.a.createElement(Ke.a,{className:r.root,disabled:a,variant:"outlined",onClick:function(){return n(function(e){switch(e){case H.Used:return H.Alpha;case H.Alpha:return H.Beta;case H.Beta:return H.Delta;case H.Delta:return H.Used;default:throw new Error("Unknown augmentation grade '".concat(e,"'"))}}(t))}},t)};var ra=Object(we.a)({root:{display:"flex",flexDirection:"row",padding:10,margin:10},name:{width:500,textAlign:"left"},availability:{width:100,textAlign:"center"},cost:{width:200,textAlign:"center"}}),la=function(e){var a=e.item,t=e.createCostLabel,n=e.onUpdateItem,r=ra(),c=parseInt(a.count),o=t(a),u=c>0,s=a.path.startsWith(P),m=a.path.startsWith(P),d=!m||function(e){var a=K(e),t=a.rating,n=a.legality;switch(n){case"L":return t<=24;case"R":return t<=18;case"F":return t<=12;default:throw new Error("Unknown availability legality '".concat(n,"'"))}}(a.availability),f=a.path.startsWith("".concat(P,".augmentations")),h=a.grade||H.Alpha;return l.a.createElement(Ye.a,{className:r.root,elevation:3},l.a.createElement(Se.a,{className:r.name,style:{lineHeight:"36px"}},a.name),m?l.a.createElement(Se.a,{className:r.availability,style:{lineHeight:"36px"}},a.availability):null,l.a.createElement("span",{className:r.cost},l.a.createElement(de.a,{badgeContent:c,color:"secondary"},l.a.createElement(Se.a,{style:{lineHeight:"36px"}},"(",o,")"))),l.a.createElement($e.a,null,s||!u?l.a.createElement(Ke.a,{onClick:function(){n(Object(i.a)({},a,{count:(c+1).toString()}))},disabled:!d},l.a.createElement(_e.a,null)):null,s||u?l.a.createElement(Ke.a,{onClick:function(){n(Object(i.a)({},a,{count:Math.max(c-1,0).toString()}))},disabled:!d},l.a.createElement(aa.a,null)):null,f?l.a.createElement(na,{disabled:0===c,grade:h,onUpdateGrade:function(e){var t=Object(i.a)({},a,{grade:e});e===H.Alpha&&delete t.grade,n(t)}}):null))},ca=Object(we.a)({items:{display:"flex",flexDirection:"column"}}),oa=function(e){var a=e.items,t=e.createCostLabel,n=e.onUpdateItems,c=ca(),o=function(e){var t=Object(A.a)(a);t[a.findIndex((function(a){return a.name===e.name}))]=e,n(t)};return l.a.createElement(r.Fragment,null,l.a.createElement(qe.a,null),l.a.createElement("div",{className:c.items},a?a.map((function(e){return l.a.createElement(la,{item:e,createCostLabel:t,onUpdateItem:o})})):l.a.createElement("div",null,"No items")))},ia=function(e){var a=e.open,t=e.onClose,n=e.title,c=e.allItems,o=e.createCostLabel,s=e.onUpdateAllItems,m=Object.keys(c),d=Object(A.a)(m),f=new Map,h=!0,v=!1,p=void 0;try{for(var g,b=d[Symbol.iterator]();!(h=(g=b.next()).done);h=!0){var y=g.value,E=y.split("."),C=E[E.length-1],w=Object(U.a)(C);f.set(y,w)}}catch(N){v=!0,p=N}finally{try{h||null==b.return||b.return()}finally{if(v)throw p}}var k=Object(r.useState)(d[0]),O=Object(u.a)(k,2),j=O[0],S=O[1];void 0===d.find((function(e){return e===j}))&&S(d[0]);return l.a.createElement(Qe.a,{open:a,onClose:t},l.a.createElement(ze.a,null,n),l.a.createElement(Ze.a,null,d.length>1?l.a.createElement(Ie.a,{id:"group",value:j,displayEmpty:!0,onChange:function(e){S(e.target.value)},variant:"outlined"},d.map((function(e){return l.a.createElement(Ae.a,{key:e,value:e},f.get(e))}))):null,l.a.createElement(oa,{label:f.get(j),items:c[j],createCostLabel:o,onUpdateItems:function(e){var a=Object(i.a)({},c);a[j]=e,s(a)}})))},ua=t(88),sa=function(e){var a=e.title,t=e.items,n=e.allItems,c=e.createCostLabel,o=e.onUpdateItems,i=Object(r.useState)(!1),s=Object(u.a)(i,2),m=s[0],d=s[1],f=function(e){var a,t=new Map,n=Object.keys(e).map((function(e){return e.split(".")}));if(n.length>1){var r=!1;for(a=0;!r;){if(a>=n[0].length)throw new Error("Searched through all path components and found no differences");for(var l=1;l<n.length;l++)if(n[0][a]!==n[l][a]){r=!0;break}a++}}else{if(1!==n.length)throw new Error("There are no paths");a=n[0].length-1}var c=!0,o=!1,i=void 0;try{for(var u,s=n[Symbol.iterator]();!(c=(u=s.next()).done);c=!0){var m=u.value,d=m.slice(0,a).join("."),f=m[a-1];t.set(d,Object(U.a)(f))}}catch(h){o=!0,i=h}finally{try{c||null==s.return||s.return()}finally{if(o)throw i}}return t}(n),h=[],v=!0,p=!1,g=void 0;try{for(var b,y=f.keys()[Symbol.iterator]();!(v=(b=y.next()).done);v=!0){var E=b.value;h.push(E)}}catch(Z){p=!0,g=Z}finally{try{v||null==y.return||y.return()}finally{if(p)throw g}}for(var C=Object(r.useState)(h[0]),w=Object(u.a)(C,2),k=w[0],O=w[1],j=Object(r.useState)(null),S=Object(u.a)(j,2),N=S[0],x=S[1],I=M(n,k),L={},D=!1,T=0,W=Object.keys(I);T<W.length;T++){var B=W[T];D=!0;var V=Object(A.a)(I[B]),F=Re(t,k),G=!0,J=!1,R=void 0;try{for(var H,P=function(){var e=H.value,a=F.find((function(a){return a.name===e.name}));a?(e.count=a.count,e.grade=a.grade):e.count="0"},Q=V[Symbol.iterator]();!(G=(H=Q.next()).done);G=!0)P()}catch(Z){J=!0,R=Z}finally{try{G||null==Q.return||Q.return()}finally{if(J)throw R}}L[B]=V}return l.a.createElement(r.Fragment,null,l.a.createElement(me.a,{onClick:function(e){return x(e.currentTarget)},color:"secondary",size:"medium",disableRipple:!0},l.a.createElement(Pe.a,null)),l.a.createElement(ua.a,{anchorEl:N,open:Boolean(N),onClose:function(){return x(null)}},h.map((function(e){return l.a.createElement(Ae.a,{key:e,onClick:function(){!function(e){O(e),x(null),d(!0)}(e)}},Object(U.a)(f.get(e)))}))),D?l.a.createElement(ia,{open:m,onClose:function(){return d(!1)},title:"".concat(a," - ").concat(f.get(k)),allItems:L,createCostLabel:c,onUpdateAllItems:function(e){for(var a=Object(A.a)(t),n=function(){var t=l[r],n=!0,c=!1,o=void 0;try{for(var i,u=function(){var e=i.value,n=parseInt(e.count)>0,r=a.findIndex((function(a){return a.path===t&&a.name===e.name}));r>-1?n?a[r]=$(t,e):a.splice(r,1):n&&a.push($(t,e))},s=e[t][Symbol.iterator]();!(n=(i=s.next()).done);n=!0)u()}catch(Z){c=!0,o=Z}finally{try{n||null==s.return||s.return()}finally{if(c)throw o}}},r=0,l=Object.keys(e);r<l.length;r++)n();o(a)}}):null)},ma=Object(we.a)({headerLabel:{lineHeight:3,fontWeight:700}}),da=function(e){var a=e.label,t=e.items,n=e.allItems,r=e.createItemLabel,c=e.createItemCostLabel,o=e.onUpdateItems,i=ma(),u=0,s=!0,m=!1,d=void 0;try{for(var f,h=t[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var v=f.value;u+=q(v,n)*parseInt(v.count)}}catch(E){m=!0,d=E}finally{try{s||null==h.return||h.return()}finally{if(m)throw d}}for(var p=[],g=0,b=Object.keys(n);g<b.length;g++){var y=b[g];p.push.apply(p,Object(A.a)(n[y]))}return l.a.createElement(De.a,{defaultExpanded:!1},l.a.createElement(Te.a,{expandIcon:l.a.createElement(Me.a,null)},l.a.createElement(Be.a,{onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:l.a.createElement(sa,{title:a,items:t,allItems:n,createCostLabel:c,onUpdateItems:function(e){o(e)}}),label:""}),l.a.createElement(Se.a,{className:i.headerLabel},a," (",u,")")),l.a.createElement(We.a,null,l.a.createElement(Je,{values:t,createChipLabel:r,onDeleteValue:function(e){var a=Object(A.a)(t),n=a.findIndex((function(a){return a.name===e.name}));if(n<0)throw new Error("Could not find item '".concat(e.name,"' to delete in list '").concat(JSON.stringify(a),"'"));a.splice(n,1),o(a)}})))},fa=function(){var e=ce(),a=ie("selectedCharacter"),t=a.qualities,n=ie("allQualities"),r=function(e){var a=B(e,n);return a>0?"+".concat(a):"".concat(a)};return l.a.createElement(da,{label:"Qualities",items:t,allItems:n,createItemLabel:function(e){var a=e.name,t=r(e);return"".concat(a," (").concat(t,")")},createItemCostLabel:r,onUpdateItems:function(t){var n=Object(i.a)({},a,{qualities:t});e({type:_.UpdateCharacter,data:n})}})},ha=Object(we.a)({header:{display:"flex",flexDirection:"row",marginLeft:5,marginRight:5,marginBottom:10},field:{marginRight:10,marginTop:20},divider:{margin:5}}),va=function(){var e=ha(),a=ce(),t=ie("selectedCharacter"),n=t.name,c=t.streetName,o=t.metaType,u=function(e){var t=e;a({type:_.UpdateCharacter,data:t})};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:e.header},l.a.createElement(Le.a,{"id-":"name",label:"Name",value:n,onChange:function(e){return u(Object(i.a)({},t,{name:e.target.value}))},className:e.field,variant:"outlined"}),l.a.createElement(Le.a,{"id-":"street-name",label:"Street Name",value:c,onChange:function(e){return u(Object(i.a)({},t,{streetName:e.target.value}))},className:e.field,variant:"outlined"}),l.a.createElement(Ie.a,{id:"meta-type",value:o,displayEmpty:!0,onChange:function(e){return u(Object(i.a)({},t,{metaType:e.target.value}))},className:e.field,variant:"outlined"},Ue.map((function(e){return l.a.createElement(Ae.a,{key:e,value:e},e," (",E(e),")")})))),l.a.createElement(fa,null))};function pa(e,a){var t=[];for(var n in e)n.startsWith(a)&&t.push(e[n]);return t}var ga=t(178),ba=Object(we.a)({content:{width:"100%"},header:{display:"flex"},name:{minWidth:300,maxWidth:300,textAlign:"left"},availability:{minWidth:100,maxWidth:100,textAlign:"center"},cost:{minWidth:100,maxWidth:100,textAlign:"right"},ul:{padding:0}}),ya=function(e){var a=e.open,t=e.onClose,n=e.title,c=e.items,o=e.onItemSelectionChange,s=e.includeAvailability,m=e.includeCost,d=e.allowNewItems,f=e.allowMultiSelection,h=ba(),v=Object(r.useState)(""),p=Object(u.a)(v,2),g=p[0],b=p[1],y=Object(r.useState)(""),E=Object(u.a)(y,2),C=E[0],w=E[1],k=Object(r.useState)(""),O=Object(u.a)(k,2),j=O[0],S=O[1],N=function(e){var a=e.target.value;switch(e.target.id){case"new-item-name":b(a);break;case"new-item-availability":w(a);break;case"new-item-cost":S(a)}};return l.a.createElement(Qe.a,{open:a,onClose:t},l.a.createElement(ze.a,null,n),l.a.createElement(Ze.a,{className:h.content},l.a.createElement(ke.a,null,l.a.createElement(Oe.a,{key:"header",className:h.header},l.a.createElement(Se.a,{className:h.name},"Name"),s?l.a.createElement(Se.a,{className:h.availability},"i.availability"):null,m?l.a.createElement(Se.a,{className:h.cost},"Cost"):null),d?l.a.createElement(Oe.a,{key:"new-item"},l.a.createElement(Le.a,{id:"new-item-name",label:"Custom",value:g,onChange:N,className:h.name,variant:"outlined"}),s?l.a.createElement(Le.a,{id:"new-item-availability",label:"Availability",value:C,onChange:N,className:h.availability,variant:"outlined"}):null,m?l.a.createElement(Le.a,{id:"new-item-cost",label:"Cost",value:j,onChange:N,className:h.cost,variant:"outlined"}):null,l.a.createElement(me.a,{"aria-label":"create",onClick:function(){var e={Name:g,selected:!0};s&&(e.Availability=C),m&&(e.Cost=j),o(e),b(""),w(""),S("")},color:"secondary",size:"small"},l.a.createElement(_e.a,null))):null,c.map((function(e){return l.a.createElement(Oe.a,{key:e.Name},l.a.createElement(ga.a,{className:h.name},e.Name),s?l.a.createElement(ga.a,{className:h.availability},e.Availability):null,m?l.a.createElement(ga.a,{className:h.cost},e.Cost):null,f?l.a.createElement(r.Fragment,null,l.a.createElement(me.a,{"aria-label":"add",onClick:function(){return o(Object(i.a)({},e,{selected:!0}))},color:"secondary",size:"small"},l.a.createElement(_e.a,null)),l.a.createElement(me.a,{"aria-label":"remove",onClick:function(){return o(Object(i.a)({},e,{selected:!1}))},disabled:!e.selected,color:"secondary",size:"small"},l.a.createElement(aa.a,null))):l.a.createElement(me.a,{"aria-label":e.selected?"remove":"add",onClick:function(){return o(Object(i.a)({},e,{selected:!e.selected}))},color:"secondary",size:"small"},e.selected?l.a.createElement(aa.a,null):l.a.createElement(_e.a,null)))})))))},Ea=function(e){var a=e[Object.keys(e)[0]];if(void 0===a)throw new Error("Could not find a name for value '".concat(JSON.stringify(e),"'"));return a},Ca=Object(we.a)({editButton:{paddingLeft:10}}),wa=function(e){var a=e.breadcrums,t=e.values,n=e.selectedValueNames,c=e.addValue,o=e.removeValue,i=e.includeAvailability,s=void 0!==i&&i,m=e.includeCost,d=void 0!==m&&m,f=e.allowNewValues,h=void 0!==f&&f,v=e.createValue,p=e.allowMultiSelection,g=void 0!==p&&p,b=Ca(),y=Object(r.useState)(!1),E=Object(u.a)(y,2),C=E[0],w=E[1],k=a.join(" - "),O=t.map((function(e){return function(e,a,t,n){var r=Ea(e),l=t?function(e){var a=e.Availability;return void 0===a?"-":a}(e):void 0,c=n?function(e){var a=e.Cost;return void 0===a?"0":a}(e):void 0,o=void 0!==a.find((function(e){return e===r}));return{Name:r,Cost:c,Availability:l,selected:o}}(e,n,s,d)}));return l.a.createElement(r.Fragment,null,l.a.createElement(me.a,{"aria-label":"add",onClick:function(){return w(!0)},color:"secondary",size:"medium",className:b.editButton,disableRipple:!0},l.a.createElement(Pe.a,null)),l.a.createElement(ya,{open:C,onClose:function(){return w(!1)},title:k,items:O,onItemSelectionChange:function(e){var a=e.Name,n=e.Availability,r=e.Cost;if(e.selected){if(c(a),void 0===t.find((function(e){return Ea(e)===a}))){var l={Name:a,Availability:n,Cost:r};if(!v)throw new Error("Attempting to create new item '".concat(JSON.stringify(l),"' with no createValue prop"));v(l)}}else o(a)},includeAvailability:s,includeCost:d,allowNewItems:h,allowMultiSelection:g}))},ka=t(192),Oa=Object(we.a)({root:{display:"flex",height:50},name:{width:200},slider:{width:300,marginRight:10}}),ja=function(e){var a=e.property,t=e.onUpdate,n=e.min,r=e.max,c=e.step,o=e.formatDisplayValue,i=e.computeCost,u=a.name,s=a.rating,m=Oa();return l.a.createElement("div",{className:m.root},l.a.createElement(Se.a,{gutterBottom:!0,className:m.name},u),l.a.createElement("div",{className:m.slider},l.a.createElement(ka.a,{step:c,min:n,max:r,value:s,marks:!0,valueLabelDisplay:"on",onChange:function(e,a){if(Array.isArray(a))throw new Error("Property element '".concat(e.target.id,"' has an array of values instead of a single value: [").concat(a.join(", "),"]"));t({name:u,rating:a})},valueLabelFormat:function(e,a){return o(e)}})),l.a.createElement(Se.a,{gutterBottom:!0},"(",i(s),")"))},Sa=function(e){var a=e.skill,t=e.onUpdate,n=e.computeCost;return l.a.createElement(ja,{property:a,onUpdate:t,min:1,max:5,step:2,formatDisplayValue:function(e){return e.toString()},computeCost:n})},Na=Object(we.a)({header:{display:"flex",flexDirection:"row",marginBottom:20,paddingLeft:16,paddingTop:12},headerLabel:{lineHeight:3,fontWeight:700}}),xa=function(e){var a=e.breadcrums,t=e.skills,n=e.allSkills,c=e.headerLabel,o=e.computeSkillCost,i=e.onSkillsUpdated,u=Na(),s=ce(),m=ie("customItems");t.sort((function(e,a){return e.name.localeCompare(a.name)}));var d=a.join(".");n.push.apply(n,Object(A.a)(pa(m,d))),n.sort((function(e,a){return e.Name.localeCompare(a.Name)}));var f=function(e){var a=Object(A.a)(t),n=t.findIndex((function(a){return a.name===e.name}));n>-1?e.rating>0?a[n]=e:a.splice(n,1):e.rating>0&&a.push(e),i(a)};return l.a.createElement(r.Fragment,null,l.a.createElement(De.a,{defaultExpanded:!1},l.a.createElement(Te.a,{expandIcon:l.a.createElement(Me.a,null)},l.a.createElement(Be.a,{onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:l.a.createElement(wa,{breadcrums:a,values:n,selectedValueNames:t.map((function(e){return e.name})),addValue:function(e){f({name:e,rating:1})},removeValue:function(e){f({name:e,rating:-1})},allowNewValues:!0,createValue:function(e){var a={path:"".concat(d,".").concat(e.Name),item:e};s({type:_.AddCustomItem,data:a})}}),label:""}),l.a.createElement(Se.a,{className:u.headerLabel},c)),l.a.createElement(We.a,null,l.a.createElement(ke.a,null,t.map((function(e){return l.a.createElement(Oe.a,{key:e.name},l.a.createElement(Sa,{skill:e,onUpdate:f,computeCost:o}))}))))))},Ia=["Skills","Active"],La=function(){var e=ce(),a=ie("selectedCharacter"),t=ie("allSkills"),n=a.activeSkills,r=S(n),c="Active Skills (".concat(r,")"),o=Object(A.a)(t.active);return l.a.createElement(xa,{breadcrums:Ia,skills:n,allSkills:o,headerLabel:c,computeSkillCost:j,onSkillsUpdated:function(t){var n=Object(i.a)({},a,{activeSkills:t});e({type:_.UpdateCharacter,data:n})}})},Aa=["Skills","Knowledge"],Ua=function(){var e=ce(),a=ie("selectedCharacter"),t=ie("allSkills"),n=a.knowledgeSkills,r=x(n),c=I(a),o=r-c,u="Knowledge Skills (".concat(r," - ").concat(c," = ").concat(o,")"),s=Object(A.a)(t.knowledge);return l.a.createElement(xa,{breadcrums:Aa,skills:n,allSkills:s,headerLabel:u,computeSkillCost:N,onSkillsUpdated:function(t){var n=Object(i.a)({},a,{knowledgeSkills:t});e({type:_.UpdateCharacter,data:n})}})},Da=["Skills","Language"],Ta=function(){var e=ce(),a=ie("selectedCharacter"),t=ie("allSkills"),n=a.languageSkills,r=x(n),c="Language Skills (".concat(r,") + Native"),o=Object(A.a)(t.language);return l.a.createElement(xa,{breadcrums:Da,skills:n,allSkills:o,headerLabel:c,computeSkillCost:N,onSkillsUpdated:function(t){var n=Object(i.a)({},a,{languageSkills:t});e({type:_.UpdateCharacter,data:n})}})},Wa=function(){return l.a.createElement(r.Fragment,null,l.a.createElement(La,null),l.a.createElement(Ua,null),l.a.createElement(Ta,null))},Ba=t(68),Va=t.n(Ba),Ma=Object(we.a)({badge:{marginLeft:50}}),Fa=function(){var e=Ma(),a=ie("karma"),t=a.total,n=a.spent,c=a.available;return l.a.createElement(r.Fragment,null,l.a.createElement(de.a,{className:e.badge,badgeContent:t,color:"primary",max:999,showZero:!0},l.a.createElement(Va.a,null)),l.a.createElement(de.a,{className:e.badge,badgeContent:n,color:"secondary",max:999,showZero:!0},l.a.createElement(Va.a,null)),l.a.createElement(de.a,{className:e.badge,badgeContent:c,color:"primary",max:999,showZero:!0},l.a.createElement(Va.a,null)))},Ga=function(e){var a=e.attribute,t=e.metaType,n=e.onUpdate,r=w(t,a);return l.a.createElement(ja,{property:a,onUpdate:n,min:1,max:7,step:1,formatDisplayValue:function(e){return(e+r).toString()},computeCost:k})},Ja=Object(we.a)({header:{marginBottom:20,paddingLeft:16,paddingTop:12,fontWeight:700}}),Ra=function(){var e=ce(),a=ie("selectedCharacter"),t=Ja(),n=a.attributes,c=a.metaType,o=n.filter((function(e){return s(a)||"Magic"!==e.name})),u=O(a),m=function(t){var r=Object(A.a)(n),l=r.findIndex((function(e){return e.name===t.name}));r[l]=t,e({type:_.UpdateCharacter,data:Object(i.a)({},a,{attributes:r})})};return l.a.createElement(r.Fragment,null,l.a.createElement(Se.a,{className:t.header},"Attributes (",u,")"),l.a.createElement(ke.a,null,o.map((function(e){return l.a.createElement(Oe.a,{key:e.name},l.a.createElement(Ga,{attribute:e,metaType:c,onUpdate:m}))}))))},Ha=function(){return l.a.createElement(Ra,null)};function Pa(e){switch(e){case 1:return 2;case 3:return 7;case 5:return 15;default:throw new Error}}function Qa(e){var a=0;return a+=Pa(e.connection),a+=Pa(e.loyalty)}function Za(e){return e.contacts.map((function(e){return Qa(e)})).reduce((function(e,a){return e+a}),0)}var za=Object(we.a)({headerLabel:{fontWeight:700},details:{display:"flex",flexDirection:"column"},rating:{marginTop:30}}),qa=function(e){var a=e.contact,t=e.onUpdate,n=za(),c=Qa(a),o={name:"Connection",rating:a.connection},u={name:"Loyalty",rating:a.loyalty};return l.a.createElement(r.Fragment,null,l.a.createElement(De.a,{defaultExpanded:!1},l.a.createElement(Te.a,{expandIcon:l.a.createElement(Me.a,null)},l.a.createElement(Se.a,{className:n.headerLabel},a.name," (",c,")")),l.a.createElement(We.a,null,l.a.createElement("div",{className:n.details},l.a.createElement("div",{className:n.rating},l.a.createElement(ja,{property:o,onUpdate:function(e){var n=Object(i.a)({},a,{connection:e.rating});t(n)},min:1,max:3,step:2,formatDisplayValue:function(e){return e.toString()},computeCost:Pa})),l.a.createElement("div",{className:n.rating},l.a.createElement(ja,{property:u,onUpdate:function(e){var n=Object(i.a)({},a,{loyalty:e.rating});t(n)},min:1,max:5,step:2,formatDisplayValue:function(e){return e.toString()},computeCost:Pa}))))))},$a=Object(we.a)({header:{display:"flex",flexDirection:"row"},headerLabel:{lineHeight:3,fontWeight:700}}),Ka=["Contacts"],Ya=Ka.join("."),Xa=function(){var e=$a(),a=ce(),t=ie("selectedCharacter"),n=ie("allContacts"),c=ie("customItems"),o=t.contacts;o.sort((function(e,a){return e.name.localeCompare(a.name)}));var u=Za(t),s=function(e){var a=e.attributes.find((function(e){return"Charisma"===e.name}));if(void 0===a)throw new Error("Character '".concat(e.streetName,"' has no attribute 'Charisma'"));var t=e.attributes.find((function(e){return"Willpower"===e.name}));if(void 0===t)throw new Error("Character '".concat(e.streetName,"' has no attribute 'Willpower'"));return 10*(a.rating+t.rating)}(t),m=u-s,d="Contacts (".concat(u," - ").concat(s," = ").concat(m,")");n.push.apply(n,Object(A.a)(pa(c,Ya))),n.sort((function(e,a){return e.Name.localeCompare(a.Name)}));var f=function(e){var n=Object(A.a)(o),r=o.findIndex((function(a){return a.name===e.name}));r>-1?e.connection>0&&e.loyalty>0?n[r]=e:n.splice(r,1):e.connection>0&&e.loyalty>0&&n.push(e);var l=Object(i.a)({},t,{contacts:n});a({type:_.UpdateCharacter,data:l})};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:e.header},l.a.createElement(wa,{breadcrums:Ka,values:n,selectedValueNames:o.map((function(e){return e.name})),addValue:function(e){f({name:e,connection:1,loyalty:1})},removeValue:function(e){f({name:e,connection:-1,loyalty:-1})},allowNewValues:!0,createValue:function(e){var t={path:"".concat(Ya,".").concat(e.Name),item:e};a({type:_.AddCustomItem,data:t})}}),l.a.createElement(Se.a,{className:e.headerLabel},d)),l.a.createElement(ke.a,null,o.map((function(e){return l.a.createElement(qa,{key:e.name,contact:e,onUpdate:f})}))))},_a=function(){return l.a.createElement(Xa,null)},et=function(){var e=ce(),a=ie("selectedCharacter"),t=a.spells,n=ie("allSpells");return l.a.createElement(da,{label:"Spells",items:t,allItems:n,createItemLabel:function(e){var a=e.name;return"".concat(a," (5)")},createItemCostLabel:function(e){return"5"},onUpdateItems:function(t){var n=Object(i.a)({},a,{spells:t});e({type:_.UpdateCharacter,data:n})}})},at=function(){var e=ce(),a=ie("selectedCharacter"),t=a.gear,n=ie("allGear"),c=function(e){var a=q(e,n);return"".concat(a,"\xa5")},o=function(e){var a=e.name,t=c(e),n="".concat(a," (").concat(t,")");return e.path.startsWith("".concat(P,".augmentations"))&&(n+=" [".concat(e.grade||H.Alpha,"]")),n};return l.a.createElement(r.Fragment,null,function(e,a){var t=new Set,n=a.split("."),r=!0,l=!1,c=void 0;try{for(var o,i=F(e,a)[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value.split(".");t.add(u[n.length])}}catch(s){l=!0,c=s}finally{try{r||null==i.return||i.return()}finally{if(l)throw c}}return Array.from(t)}(n,P).map((function(r){return l.a.createElement(da,{key:r,label:Object(U.a)(r),items:Re(t,"".concat(P,".").concat(r)),allItems:M(n,"".concat(P,".").concat(r)),createItemLabel:o,createItemCostLabel:c,onUpdateItems:function(n){return function(n,r){var l=t.filter((function(e){return!e.path.startsWith("".concat(P,".").concat(n))}));l.push.apply(l,Object(A.a)(r));var c=Object(i.a)({},a,{gear:l});e({type:_.UpdateCharacter,data:c})}(r,n)}})})))},tt="spells";function nt(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,o=a[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value.Name;t.push({path:e,name:i,cost:"5"})}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}var rt=t(193),lt=Object(we.a)((function(e){return{root:{display:"flex",flexDirection:"row",marginLeft:10,marginTop:10},name:{lineHeight:"40px"},value:{marginLeft:5,color:e.palette.getContrastText(e.palette.primary.main),backgroundColor:e.palette.primary.main}}})),ct=function(e){var a=e.name,t=e.value,n=lt();return l.a.createElement("div",{className:n.root},l.a.createElement(Se.a,{className:n.name},a),l.a.createElement(rt.a,{className:n.value},t))},ot=Object(we.a)({header:{marginTop:10,marginLeft:5},section:{display:"flex",flexDirection:"row",marginBottom:10}}),it=function(){var e,a=ot(),t=ie("selectedCharacter"),c=C(t,"Body"),o=C(t,"Agility"),i=C(t,"Reaction"),u=C(t,"Intuition"),s=C(t,"Willpower"),m=(null===(e=t.activeSkills.find((function(e){return"Athletics"===e.name})))||void 0===e?void 0:e.rating)||0,d=i+u,f=8+Math.ceil(c/2),h=8+Math.ceil(s/2),v=o;t.metaType!==n.Dwarf&&(v+=1);var p=v+m;t.metaType!==n.Dwarf&&(p+=2);var g=2*p;return l.a.createElement(r.Fragment,null,l.a.createElement(Se.a,{className:a.header},"Initiative"),l.a.createElement(qe.a,null),l.a.createElement("div",{className:a.section},l.a.createElement(ct,{name:"Initiative",value:d}),l.a.createElement(ct,{name:"Initiative Passes",value:1})),l.a.createElement(Se.a,{className:a.header},"Condition Monitor"),l.a.createElement(qe.a,null),l.a.createElement("div",{className:a.section},l.a.createElement(ct,{name:"Physical Boxes",value:f}),l.a.createElement(ct,{name:"Stun Boxes",value:h})),l.a.createElement(Se.a,{className:a.header},"Movement"),l.a.createElement(qe.a,null),l.a.createElement("div",{className:a.section},l.a.createElement(ct,{name:"Sneaking",value:v}),l.a.createElement(ct,{name:"Walking",value:p}),l.a.createElement(ct,{name:"Running",value:g})))},ut=Object(we.a)({bar:{flexGrow:1,display:"flex"}}),st=function(){var e=ut(),a=ce(),t=ie("selectedCharacter"),n=ie("allQualities"),c=ie("allGear"),o=Object(r.useState)(!1),i=Object(u.a)(o,2),m=i[0],d=i[1],f=Object(r.useState)(0),h=Object(u.a)(f,2),v=h[0],p=h[1];Object(r.useEffect)((function(){fetch("data/qualities.json").then((function(e){return e.json()})).then((function(e){var t=function(e){var a={};return T(G,e,a,J),a}(e);a({type:_.LoadQualities,data:t})})).catch((function(e){console.error("Error occured loading qualities: ".concat(e.message,"\n").concat(e.stack))})),fetch("data/skills.json").then((function(e){return e.json()})).then((function(e){var t=e;a({type:_.LoadSkills,data:t})})).catch((function(e){console.error("Error occured loading skills: ".concat(e.message,"\n").concat(e.stack))})),fetch("data/contacts.json").then((function(e){return e.json()})).then((function(e){var t=e.all;a({type:_.LoadContacts,data:t})})).catch((function(e){console.error("Error occured loading contacts: ".concat(e.message,"\n").concat(e.stack))})),fetch("data/magic.json").then((function(e){return e.json()})).then((function(e){var t=function(e){var a={};return T(tt,e,a,nt),a}(e.spells);a({type:_.LoadSpells,data:t})})).catch((function(e){console.error("Error occured loading magic: ".concat(e.message,"\n").concat(e.stack))})),fetch("data/gear.json").then((function(e){return e.json()})).then((function(e){var t=function(e){var a={};return T(P,e,a,Q),a}(e);a({type:_.LoadGear,data:t})})).catch((function(e){console.error("Error occured loading gear: ".concat(e.message,"\n").concat(e.stack))}))}),[a]);var g,b=E(t.metaType)+R(t,n),y=O(t),C=L(t),w=Za(t),k=5*t.spells.length,j=Y(t,c),S=X(j);g=j<1e3?"\xa5".concat(j):j<1e6?"\xa5".concat(Math.round(j/100)/10,"K"):"\xa5".concat(Math.round(j/1e5)/10,"M");var N,x=s(t);switch(v){case 0:N=l.a.createElement(va,null);break;case 1:N=l.a.createElement(Ha,null);break;case 2:N=l.a.createElement(Wa,null);break;case 3:N=l.a.createElement(_a,null);break;case 4:N=l.a.createElement(at,null);break;case 5:N=l.a.createElement(et,null);break;case 6:N=l.a.createElement(it,null);break;default:throw new Error("Unknown tab index ".concat(v))}return l.a.createElement("div",null,l.a.createElement(ue.a,{position:"sticky",color:"default"},l.a.createElement(se.a,null,l.a.createElement(me.a,{edge:"start",onClick:function(){d(!0)},"aria-label":"menu"},l.a.createElement(ve.a,null)),l.a.createElement("div",{className:e.bar},l.a.createElement(Ne,{character:t}),l.a.createElement(Fa,null)),l.a.createElement(me.a,{"aria-label":"save",onClick:function(){a({type:_.SaveCharacter})},color:"secondary"},l.a.createElement(ge.a,null)),l.a.createElement(me.a,{"aria-label":"clear",onClick:function(){a({type:_.ClearCharacter})},color:"secondary"},l.a.createElement(ye.a,null))),l.a.createElement(Ee.a,{value:v,onChange:function(e,a){p(a)},variant:"scrollable"},l.a.createElement(Ce.a,{label:l.a.createElement(de.a,{badgeContent:b,color:"default",showZero:!0,max:999},"Character")}),l.a.createElement(Ce.a,{label:l.a.createElement(de.a,{badgeContent:y,color:"default",showZero:!0,max:999},"Attributes")}),l.a.createElement(Ce.a,{label:l.a.createElement(de.a,{badgeContent:C,color:"default",showZero:!0,max:999},"Skills")}),l.a.createElement(Ce.a,{label:l.a.createElement(de.a,{badgeContent:w,color:"default",showZero:!0,max:999},"Contacts")}),l.a.createElement(Ce.a,{label:l.a.createElement(de.a,{badgeContent:g,color:"default",showZero:!0,max:1e6,anchorOrigin:{vertical:"top",horizontal:"left"}},l.a.createElement(de.a,{badgeContent:S,color:"default",showZero:!0,max:999,anchorOrigin:{vertical:"top",horizontal:"right"}},"Gear"))}),l.a.createElement(Ce.a,{disabled:!x,label:l.a.createElement(de.a,{badgeContent:k,color:"default",showZero:!0,max:999},"Magic")}),l.a.createElement(Ce.a,{label:"Combat"}))),N,l.a.createElement(fe.a,{open:m,onClose:function(){d(!1)}},l.a.createElement(xe,null)))},mt=t(87),dt=t(182),ft=t(183),ht=Object(mt.a)({palette:{type:"dark"}}),vt=function(){var e=Object(r.useReducer)(ne,re,(function(e){var a=function(){for(var e=[f()],a=0;a<localStorage.length;a++){var t=localStorage.key(a);if(null!==t&&/^character:\d+$/i.test(t)){var n=localStorage.getItem(t);if(n){var r=JSON.parse(n),l=r.key,c=r.name,o=r.streetName;e.push({key:l,name:c,streetName:o})}}}return e.sort((function(e,a){return e.key-a.key})),e}(),t=function(){var e=localStorage.getItem(g);return e?parseInt(e):-1}(),n=e.selectedCharacter;if(t>-1){var r=a.find((function(e){return e.key===t}));if(r){var l=p(r.key);l&&(n=l)}}return Object(i.a)({},e,{characters:a,selectedCharacter:n})})),a=Object(u.a)(e,2),t=a[0],n=a[1];return l.a.createElement(le.Provider,{value:n},l.a.createElement(oe.Provider,{value:t},l.a.createElement(dt.a,{theme:ht},l.a.createElement(ft.a,null),l.a.createElement(st,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(vt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[106,1,2]]]);
//# sourceMappingURL=main.05ca39cc.chunk.js.map